{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/FractalComposite.vue?2021","webpack:///./src/views/FractalEditor.vue?7a56","webpack:///./src/components/GradientPicker.vue?7525","webpack:///./src/App.vue?f446","webpack:///./src/components/Checkbox.vue?1520","webpack:///./src/views/Editor.vue?b6e3","webpack:///./src/views/FractalCompositeSettings.vue?b7b1","webpack:///./src/views/FractalEditorToolSelection.vue?26d0","webpack:///./src/components/BackgroundStylePicker.vue?a386","webpack:///./src/components/NumberSelector.vue?986f","webpack:///./src/views/FractalRender.vue?81e6","webpack:///./src/views/FractalEditorPreviewSettings.vue?f55d","webpack:///./src/components/ForegroundStylePicker.vue?9727","webpack:///./src/views/FractalWindow.vue?03f0","webpack:///./src/App.vue?e14f","webpack:///./src/views/Editor.vue?1d09","webpack:///./src/views/FractalEditor.vue?2871","webpack:///./src/views/FractalEditorPreviewSettings.vue?53aa","webpack:///./src/components/Checkbox.vue?66e4","webpack:///./src/components/Checkbox.vue?e829","webpack:///./src/components/Checkbox.vue?9c3c","webpack:///./src/components/Checkbox.vue","webpack:///./src/components/NumberSelector.vue?2ede","webpack:///./src/components/NumberSelector.vue?3b01","webpack:///./src/components/NumberSelector.vue?cc2d","webpack:///./src/components/NumberSelector.vue","webpack:///./src/views/FractalEditorPreviewSettings.vue?f8af","webpack:///./src/views/FractalEditorPreviewSettings.vue?d4b9","webpack:///./src/views/FractalEditorPreviewSettings.vue","webpack:///./src/views/FractalEditorToolSelection.vue?036f","webpack:///./src/components/Dropdown.vue?a5d7","webpack:///./src/components/Dropdown.vue?9520","webpack:///./src/model/Fractal.ts","webpack:///./src/components/Dropdown.vue?83f4","webpack:///./src/components/Dropdown.vue","webpack:///./src/model/Point.ts","webpack:///./src/views/FractalEditorToolSelection.vue?3d2d","webpack:///./src/views/FractalEditorToolSelection.vue?782f","webpack:///./src/views/FractalEditorToolSelection.vue","webpack:///./src/views/FractalWindow.vue?64d3","webpack:///./src/renderer/FractalRenderSettings.ts","webpack:///./src/renderer/RenderWindow.ts","webpack:///./src/model/Composite.ts","webpack:///./src/model/OutputSettings.ts","webpack:///./src/model/AppModel.ts","webpack:///./src/renderer/FractalRenderer.ts","webpack:///./src/renderer/GridRenderer.ts","webpack:///./src/util/Signal.ts","webpack:///./src/views/FractalWindow.vue?5bcd","webpack:///./src/views/FractalWindow.vue?f5f7","webpack:///./src/views/FractalWindow.vue","webpack:///./src/model/FractalEditorState.ts","webpack:///./src/views/FractalEditor.vue?2285","webpack:///./src/components/ColorPicker.vue?d0c2","webpack:///./src/views/FractalEditor.vue?9886","webpack:///./src/views/FractalEditor.vue","webpack:///./src/views/FractalComposite.vue?d5ae","webpack:///./src/views/FractalCompositeSettings.vue?5009","webpack:///./src/components/ColorPicker.vue?003a","webpack:///./src/components/ColorPicker.vue?8049","webpack:///./src/components/ColorPicker.vue","webpack:///./src/components/ForegroundStylePicker.vue?9f7e","webpack:///./src/components/GradientPicker.vue?ecc8","webpack:///./src/renderer/Gradient.ts","webpack:///./src/components/GradientPicker.vue?988f","webpack:///./src/components/GradientPicker.vue?827e","webpack:///./src/components/GradientPicker.vue","webpack:///./src/components/ForegroundStylePicker.vue?2473","webpack:///./src/components/ForegroundStylePicker.vue?be4f","webpack:///./src/components/ForegroundStylePicker.vue","webpack:///./src/components/BackgroundStylePicker.vue?b7fd","webpack:///./src/components/BackgroundStylePicker.vue?e1f8","webpack:///./src/components/BackgroundStylePicker.vue?f195","webpack:///./src/components/BackgroundStylePicker.vue","webpack:///./src/views/FractalCompositeSettings.vue?74a0","webpack:///./src/views/FractalCompositeSettings.vue?acaf","webpack:///./src/views/FractalCompositeSettings.vue","webpack:///./src/views/FractalComposite.vue?63b0","webpack:///./src/views/FractalComposite.vue?ad4c","webpack:///./src/views/FractalComposite.vue","webpack:///./src/views/FractalRender.vue?3d1e","webpack:///./src/views/FractalRender.vue?5340","webpack:///./src/views/FractalRender.vue?3021","webpack:///./src/views/FractalRender.vue","webpack:///./src/views/Editor.vue?c4e4","webpack:///./src/views/Editor.vue?9c3b","webpack:///./src/views/Editor.vue","webpack:///./src/App.vue?ec60","webpack:///./src/App.vue?640d","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/components/ColorPicker.vue?85be","webpack:///./src/components/Dropdown.vue?f943"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_m","class","selected","selectedTab","on","$event","_v","_e","state","showVertices","toggleShowVertices","showGrid","toggleShowGrid","iterations","setIterations","checked","internalChecked","toggle","$emit","default","component","decrease","_s","increase","internalValue","max","sync","min","onFractalChange","emit","it","components","Checkbox","NumberSelector","active","directives","rawName","expression","isRecursive","toggleRecursive","hasDrawSelf","toggleDrawSelf","flip","del","add","capitalize","open","_l","index","select","internalSelected","list","toString","charAt","toUpperCase","BaseShape","x","y","Point","point","Math","sqrt","temp","scaler","clone","sub","from","to","dir","normalize","perp","relativePoint","dot","distance","abs","lineDistanceSigned","round","fractal","drawSelf","baseShape","Line","shapes","recursion","forEach","shape","pow","indexOf","transformPoint","x2","y2","output","centerX","centerY","forwardX","forwardY","rightX","rightY","undefined","createDefaultFractal","shape1","shape2","pop","rec","selectedShape","selectedFractal","deleteSelected","selectShape","hasSelectedShape","Dropdown","ref","mouseEnter","mouseLeave","mouseDown","mouseUp","mouseMove","mouseWheel","keyDown","keyUp","BlendModes","Normal","Multiply","Screen","Lighten","ColorDodge","ColorBurn","HardLight","SoftLight","Subtract","Copy","BackgroundTypes","Color","Gradient","Image","Transparent","ColorTypes","IterationGradient","LineWidthUnit","Pixels","Millimeters","color","type","backgroundColor","lineWidth","unit","width","blendMode","other","context","normalizedIterations","strokeStyle","gradient","evaluate","gradientCache","toCanvasGradient","gradientFrom","gradientTo","fillStyle","left","top","right","bottom","focalPoint","viewScale","height","screenScale","canvas","translate","scale","aspectRatio","settings","outputFormat","dpi","fractals","composite","outputSettings","estimateSteps","shapesLength","queue","item","_animationFrame","stepsDone","stepsEstimate","_fromPointBuffer","_toPointBuffer","reset","enqueueFractal","draw","clearTimeout","clear","enqueue","lastIteration","beginPath","applyColor","moveTo","lineTo","Circle","radius","arc","PI","stroke","bounds","clearRect","bg","fillRect","drawImage","image","loops","globalCompositeOperation","popFractal","onRenderStep","setTimeout","onRenderDone","subdivisions","drawRectangle","functions","func","signals","target","listener","listen","bundle","remove","panning","dragging","snap","previousMousePosition","compositeScaling","compositeWindowOffset","$refs","getContext","renderer","onStateChange","removeAll","listenTo","onSelectedPointChange","onSelectedShapeChange","onSelectedFractalChange","event","newPosition","mouseEventToPoint","deltaX","deltaY","editorWindow","hasSelectedPoint","selectedPoint","assign","gridX","gridY","direction","hasSelectedComposite","selectedComposite","correction","offset","console","log","button","focus","offsetWidth","offsetHeight","resetTransform","applyToContext","drawBackground","getBounds","pixelSize","drawGrid","drawVertices","drawStartingPositions","showCanvas","drawCanvas","screenCenter","screenPointToWorldPoint","mousePosition","drawPoint","isDark","mid","asp","cornerSize","editorState","canEditVertices","maxDistance","fromDistance","toDistance","done","resetSelection","lineDistance","offsetX","offsetY","viewX","viewWidth","viewY","getPixelSize","screenCenterX","screenCenterY","canEditCanvas","removeShape","hasSelectedFractal","FractalEditorPreviewSettings","FractalWindow","FractalEditorToolSelection","ColorPickerDragTarget","setForeground","setBackground","blendModes","setBlendMode","style","hue","saturation","opacity","hex","hidden","domProps","close","internalColor","hsv","toHsv","drag","None","newColor","root","SaturationValue","setSaturationValueMouseEvent","Hue","setHueMouseEvent","Opacity","setOpacityMouseEvent","satVal","preventDefault","rect","getBoundingClientRect","pageX","pageY","clamp01","v","h","a","rgba","toHexString","toRgbString","types","selectType","setColor","setGradient","self","stop","selectedStop","position","doubleClick","deleteStop","_color","stops","g","addStop","sort","b","f","findIndex","current","next","iv","mix","idx","removeStopByIndex","createLinearGradient","addColorStop","createGradient","padding","removeStop","pos","addRawStop","dist","ColorPicker","internalSettings","GradientPicker","fileAdded","imageSrc","imgName","upload","src","fileUpload","click","files","file","reader","FileReader","onload","img","readAsDataURL","$forceUpdate","background","foreground","BackgroundStylePicker","ForegroundStylePicker","FractalCompositeSettings","renderTab","invalid","widthValid","onChange","composing","heightValid","$set","fileSizeEstimate","durationEstimate","disabled","valid","startRender","progress","cancelRender","rendering","autoDownload","download","KBPerPixel","StepsPerSecond","regex","RegExp","test","parseFloat","onProgress","onDone","renderFractal","toBlob","blob","link","document","createElement","href","URL","createObjectURL","steps","duration","minuteInSeconds","hourInSeconds","hours","floor","minutes","seconds","hoursString","minutesString","secondsString","kb","FractalEditor","FractalComposite","FractalRender","Editor","config","productionTip","directive","el","binding","vnode","clickOutsideEvent","contains","body","addEventListener","unbind","removeEventListener","render","$mount"],"mappings":"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","file":"js/app.47bfe7db.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalComposite.vue?vue&type=style&index=0&id=b5e83c88&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalComposite.vue?vue&type=style&index=0&id=b5e83c88&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditor.vue?vue&type=style&index=0&id=26d26400&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditor.vue?vue&type=style&index=0&id=26d26400&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GradientPicker.vue?vue&type=style&index=0&id=2d128892&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GradientPicker.vue?vue&type=style&index=0&id=2d128892&scoped=true&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkbox.vue?vue&type=style&index=0&id=52c13e58&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkbox.vue?vue&type=style&index=0&id=52c13e58&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=f985cb2a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=f985cb2a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalCompositeSettings.vue?vue&type=style&index=0&id=aa10246a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalCompositeSettings.vue?vue&type=style&index=0&id=aa10246a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditorToolSelection.vue?vue&type=style&index=0&id=3f92f3ac&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditorToolSelection.vue?vue&type=style&index=0&id=3f92f3ac&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundStylePicker.vue?vue&type=style&index=0&id=c7a9473a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundStylePicker.vue?vue&type=style&index=0&id=c7a9473a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberSelector.vue?vue&type=style&index=0&id=d24e52e0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberSelector.vue?vue&type=style&index=0&id=d24e52e0&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalRender.vue?vue&type=style&index=0&id=5f925136&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalRender.vue?vue&type=style&index=0&id=5f925136&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditorPreviewSettings.vue?vue&type=style&index=0&id=504364e0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditorPreviewSettings.vue?vue&type=style&index=0&id=504364e0&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForegroundStylePicker.vue?vue&type=style&index=0&id=084096be&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForegroundStylePicker.vue?vue&type=style&index=0&id=084096be&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalWindow.vue?vue&type=style&index=0&id=5169064e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalWindow.vue?vue&type=style&index=0&id=5169064e&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Editor')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editor\"},[_c('header',{staticClass:\"fancy\"},[_vm._m(0),_c('div',{staticClass:\"tabs\"},[_c('div',{staticClass:\"tab\",class:{ selected: _vm.selectedTab == 0 },on:{\"click\":function($event){_vm.selectedTab = 0}}},[_vm._v(\" Create \")]),_c('div',{staticClass:\"tab\",class:{ selected: _vm.selectedTab == 1 },on:{\"click\":function($event){_vm.selectedTab = 1}}},[_vm._v(\" Composite \")]),_c('div',{staticClass:\"tab\",class:{ selected: _vm.selectedTab == 2 },on:{\"click\":function($event){_vm.selectedTab = 2}}},[_vm._v(\" Render \")])])]),_c('div',{staticClass:\"content\"},[(_vm.selectedTab == 0)?_c('FractalEditor'):_vm._e(),(_vm.selectedTab == 1)?_c('FractalComposite'):_vm._e(),(_vm.selectedTab == 2)?_c('FractalRender'):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('div',{staticClass:\"logo-text\"},[_vm._v(\"Fractal Editor\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"fractal-editor\"},[_c('FractalWindow',{attrs:{\"state\":_vm.state}}),_c('FractalEditorPreviewSettings',{attrs:{\"state\":_vm.state}}),_c('FractalEditorToolSelection',{attrs:{\"state\":_vm.state}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fractal-editor-preview-settings\"},[_c('div',{staticClass:\"heading\"},[_vm._v(\" Preview Settings \")]),_c('div',{staticClass:\"settings\"},[_c('div',{staticClass:\"setting\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"Vertices\")]),_c('Checkbox',{attrs:{\"checked\":_vm.state.showVertices},on:{\"update:checked\":_vm.toggleShowVertices}})],1),_c('div',{staticClass:\"setting\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"Grid\")]),_c('Checkbox',{attrs:{\"checked\":_vm.state.showGrid},on:{\"update:checked\":_vm.toggleShowGrid}})],1),_c('div',{staticClass:\"setting\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"Iterations\")]),_c('NumberSelector',{attrs:{\"value\":_vm.state.iterations},on:{\"update:value\":_vm.setIterations}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"checkbox\",class:{checked: _vm.internalChecked},on:{\"click\":_vm.toggle}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class Checkbox extends Vue {\r\n  @Prop({default:false}) private checked!: boolean;\r\n\r\n  private internalChecked: boolean = false;\r\n\r\n  public mounted(){\r\n    this.internalChecked = this.checked;\r\n  }\r\n\r\n  public toggle() {\r\n    this.internalChecked = !this.internalChecked;\r\n\r\n    this.$emit('update:checked', this.internalChecked);\r\n  }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkbox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkbox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Checkbox.vue?vue&type=template&id=52c13e58&scoped=true&\"\nimport script from \"./Checkbox.vue?vue&type=script&lang=ts&\"\nexport * from \"./Checkbox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Checkbox.vue?vue&type=style&index=0&id=52c13e58&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52c13e58\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"number-selector\"},[_c('span',{staticClass:\"box icon-minus\",on:{\"click\":_vm.decrease}}),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.value))]),_c('span',{staticClass:\"box icon-plus\",on:{\"click\":_vm.increase}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class NumberSelector extends Vue {\r\n  @Prop({default: 0}) private min!: number;\r\n  @Prop({default: 10000}) private max!: number;\r\n  @Prop({default: 0}) private value!: number;\r\n\r\n  private internalValue: number = 0;\r\n\r\n  public mounted(){\r\n    this.internalValue = this.value;\r\n  }\r\n\r\n  public increase() {\r\n    this.internalValue++;\r\n    if(this.internalValue > this.max) this.internalValue = this.max;\r\n    \r\n    this.sync();\r\n  }\r\n  \r\n  public decrease() {\r\n    this.internalValue--;\r\n    if(this.internalValue < this.min) this.internalValue = this.min;\r\n    \r\n    this.sync();\r\n    \r\n  }\r\n\r\n  public sync(){\r\n    this.$emit('update:value', this.internalValue);\r\n  }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NumberSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NumberSelector.vue?vue&type=template&id=d24e52e0&scoped=true&\"\nimport script from \"./NumberSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./NumberSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NumberSelector.vue?vue&type=style&index=0&id=d24e52e0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d24e52e0\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport Checkbox from '@/components/Checkbox.vue';\r\nimport NumberSelector from '@/components/NumberSelector.vue';\r\n\r\nimport { FractalEditorState } from '@/model/FractalEditorState';\r\n\r\n@Component({\r\n   components: { Checkbox, NumberSelector },\r\n})\r\nexport default class FractalEditorPreviewSettings extends Vue {\r\n   private iterations: number = 4;\r\n\r\n   @Prop() private state!: FractalEditorState;\r\n\r\n   toggleShowVertices(state: boolean){\r\n      this.state.showVertices = state;\r\n      this.state.onFractalChange.emit();\r\n   }\r\n   toggleShowGrid(state: boolean){\r\n      this.state.showGrid = state;\r\n      this.state.onFractalChange.emit();\r\n   }\r\n   setIterations(it: number){\r\n      this.state.iterations = it;\r\n      this.state.onFractalChange.emit();\r\n   }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditorPreviewSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditorPreviewSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FractalEditorPreviewSettings.vue?vue&type=template&id=504364e0&scoped=true&\"\nimport script from \"./FractalEditorPreviewSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./FractalEditorPreviewSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FractalEditorPreviewSettings.vue?vue&type=style&index=0&id=504364e0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"504364e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fractal-editor-tool-selection\"},[_c('div',{staticClass:\"tools\"},[_c('div',{staticClass:\"tool\",class:{ active: _vm.selectedTab == 0 },on:{\"click\":function($event){_vm.selectedTab = 0}}},[_c('span',{staticClass:\"icon-mouse-pointer\"})]),_c('div',{staticClass:\"tool\",class:{ active: _vm.selectedTab == 1 },on:{\"click\":function($event){_vm.selectedTab = 1}}},[_c('span',{staticClass:\"icon-plus\"})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedTab == 0),expression:\"selectedTab == 0\"}],staticClass:\"settings\"},[_vm._m(0),(_vm.state.hasSelectedShape)?_c('div',{staticClass:\"setting\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"Recursive\")]),_c('Checkbox',{attrs:{\"checked\":_vm.isRecursive},on:{\"update:checked\":_vm.toggleRecursive}})],1):_vm._e(),(_vm.state.hasSelectedShape)?_c('div',{staticClass:\"setting\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"Draw Self\")]),_c('Checkbox',{attrs:{\"checked\":_vm.hasDrawSelf},on:{\"update:checked\":_vm.toggleDrawSelf}})],1):_vm._e(),(_vm.state.hasSelectedShape)?_c('div',{staticClass:\"setting\"},[_c('div',{staticClass:\"button-secondary\",on:{\"click\":_vm.flip}},[_vm._v(\" Flip \")]),_c('div',{staticClass:\"button-secondary\",on:{\"click\":_vm.del}},[_vm._v(\" Delete \")])]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedTab == 1),expression:\"selectedTab == 1\"}],staticClass:\"settings\"},[_vm._m(1),_c('div',{staticClass:\"setting\"},[_c('div',{staticClass:\"button-secondary\",on:{\"click\":_vm.add}},[_vm._v(\" Add \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"icon-info\"}),_vm._v(\" Edit the fractal shape \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"icon-info\"}),_vm._v(\" Add a new part to the fractal \")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.close),expression:\"close\"}],staticClass:\"dropdown\",on:{\"click\":_vm.toggle}},[_c('span',[_vm._v(_vm._s(_vm.capitalize(_vm.selected)))]),_c('span',{staticClass:\"icon icon-chevron-down\"}),_c('div',{staticClass:\"dropdown-container\",class:{open: _vm.open}},_vm._l((_vm.list),function(value,index){return _c('div',{key:value,staticClass:\"dropdown-element\",on:{\"click\":function($event){return _vm.select(index)}}},[_vm._v(\" \"+_vm._s(_vm.capitalize(value))+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\n@Component\r\nexport default class Dropdown extends Vue {\r\n\r\n   @Prop({default: []}) private list!: string[];\r\n   @Prop({default: \"\"}) private selected!: string;\r\n\r\n   private open: boolean = false;\r\n\r\n   private internalSelected: string = \"\";\r\n\r\n   toggle(){\r\n      this.open = !this.open;\r\n   }\r\n   close(){\r\n      this.open = false;\r\n   }\r\n\r\n   select(index: number){\r\n      this.internalSelected = this.list[index];\r\n      this.$emit('update:selected', this.internalSelected);\r\n      this.$emit('change', this.internalSelected);\r\n   }\r\n\r\n   public mounted(){\r\n      this.internalSelected = this.selected;\r\n   }\r\n   \r\n   private capitalize(value: string) {\r\n      if (!value) return '';\r\n\r\n      value = value.toString();\r\n\r\n      return value.charAt(0).toUpperCase() + value.slice(1);\r\n   }\r\n}\r\n\r\n","import Point from \"./Point\";\r\n\r\nexport enum BaseShape{\r\n   None,\r\n   Line,\r\n   Circle,\r\n   Square,\r\n}\r\n\r\nexport class Shape{\r\n   public from: Point;\r\n   public to: Point;\r\n\r\n   public drawSelf: boolean;\r\n   public baseShape: BaseShape;\r\n\r\n   public fractal?: Fractal;\r\n   \r\n   constructor(from: Point, to: Point, fractal?: Fractal){\r\n      /** @type {Point} */\r\n      this.from = from;\r\n      /** @type {Point} */\r\n      this.to = to;\r\n\r\n      this.drawSelf = false;\r\n      this.fractal = fractal;\r\n      this.baseShape = BaseShape.Line; // Maybe make this more robust in some way?\r\n   }\r\n\r\n   flip(){\r\n      let temp = this.from;\r\n      this.from = this.to;\r\n      this.to = temp;\r\n   }\r\n   \r\n   get direction(){\r\n      return this.to.clone().sub(this.from);\r\n   }\r\n}\r\n\r\nexport default class Fractal{\r\n   public name: string;\r\n   public shapes: Shape[];\r\n\r\n   constructor(){\r\n      // Each Fractal is in a bounding box like this:\r\n      //\r\n      // - - -1 - -\r\n      // |    |    |\r\n      //-1 - - - - 1\r\n      // |    |    |\r\n      // - -  1 - -\r\n      // \r\n      // With 0, 0 in the center\r\n\r\n      /** @type {Shape[]} */\r\n      this.shapes = [ new Shape(new Point(-1, 0), new Point(1, 0)) ];\r\n      this.name = \"Fractal\";\r\n   }\r\n\r\n   lineAmount(iterations: number){\r\n      if(iterations == 0) return this.shapes.length;\r\n\r\n      let recursion = 0;\r\n\r\n      this.shapes.forEach(shape => {\r\n         if(shape.fractal != null){\r\n            recursion++;\r\n         }\r\n      });\r\n\r\n      return Math.pow(recursion, iterations);\r\n   }\r\n\r\n   addShape(shape: Shape){\r\n      this.shapes.push(shape);\r\n   }\r\n   removeShape(shape: Shape){\r\n      let index = this.shapes.indexOf(shape);\r\n      if(index < 0) return;\r\n\r\n      this.shapes.splice(index, 1);\r\n   }\r\n}\r\n\r\n/**\r\n * Transforms a point from fractal space into world space\r\n * @param {number} x \r\n * @param {number} y \r\n * @param {number} x2 \r\n * @param {number} y2 \r\n * @param {Point} point\r\n * @returns {Point} transformedPoint\r\n */\r\nexport function transformPoint(x: number, y: number, x2: number, y2: number, point: Point, output?: Point){\r\n   let centerX = (x + x2) * 0.5;\r\n   let centerY = (y + y2) * 0.5;\r\n\r\n   let forwardX = x2 - centerX; // 1\r\n   let forwardY = y2 - centerY; // 0\r\n\r\n   let rightX = forwardY; // 0\r\n   let rightY = -forwardX; // -1\r\n\r\n   if(output === undefined){\r\n      output = new Point();\r\n   }\r\n\r\n   // Why do we have to flip the y coordinate here? Thats a great question.\r\n   // Maybe lets do some matrix math soon because I think thats when we figure it out\r\n   // Y is up\r\n\r\n   output.x = centerX + point.x * forwardX - point.y * forwardY,\r\n   output.y = centerY + point.x * rightX - point.y * rightY\r\n   \r\n   return output;\r\n}\r\n\r\nexport function createDefaultFractal(){\r\n   let fractal = new Fractal();\r\n\r\n   let shape1 = new Shape(\r\n      new Point(-1, 0),\r\n      new Point(0, 1),\r\n      fractal\r\n      );\r\n      \r\n   let shape2 = new Shape(\r\n      new Point(1, 0),\r\n      new Point(0, 1),\r\n      fractal);\r\n\r\n   fractal.shapes.pop();\r\n   fractal.shapes.push(shape1);\r\n   fractal.shapes.push(shape2);\r\n\r\n   return fractal;\r\n}\r\n\r\n// export function createDefaultFractal(){\r\n//    let fractal = new Fractal();\r\n\r\n//    let shape1 = new Shape(\r\n//       new Point(-1, 0),\r\n//       new Point(0, 1),\r\n//       fractal\r\n//       );\r\n      \r\n//    let shape2 = new Shape(\r\n//       new Point(1, 0),\r\n//       new Point(0, -1),\r\n//       fractal);\r\n      \r\n//    let shape3 = new Shape(\r\n//       new Point(0, 1),\r\n//       new Point(0, -1),\r\n//       fractal);\r\n\r\n//    fractal.shapes.pop();\r\n//    fractal.shapes.push(shape1);\r\n//    fractal.shapes.push(shape2);\r\n//    fractal.shapes.push(shape3);\r\n\r\n//    return fractal;\r\n// }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Dropdown.vue?vue&type=template&id=55c2cf4c&scoped=true&\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Dropdown.vue?vue&type=style&index=0&id=55c2cf4c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55c2cf4c\",\n  null\n  \n)\n\nexport default component.exports","export default class Point{\r\n   public x: number;\r\n   public y: number;\r\n\r\n   constructor(x?: number, y?: number){\r\n      this.x = x || 0;\r\n      this.y = y || 0;\r\n   }\r\n\r\n   clone(){\r\n      return new Point(this.x, this.y);\r\n   }\r\n\r\n   assign(point: Point){\r\n      this.x = point.x;\r\n      this.y = point.y;\r\n      \r\n      return this;\r\n   }\r\n\r\n   normalize(){\r\n      let l = this.length();\r\n\r\n      this.x /= l;\r\n      this.y /= l;\r\n\r\n      return this;\r\n   }\r\n\r\n   length(){\r\n      return Math.sqrt(\r\n         this.x * this.x + this.y * this.y\r\n      );\r\n   }\r\n\r\n   add(point: Point){\r\n      this.x += point.x;\r\n      this.y += point.y;\r\n      return this;\r\n   }\r\n\r\n   mul(point: Point){\r\n      this.x *= point.x;\r\n      this.y *= point.y;\r\n      return this;\r\n   }\r\n\r\n   sub(point: Point){\r\n      this.x -= point.x;\r\n      this.y -= point.y;\r\n\r\n      return this;\r\n   }\r\n\r\n   div(point: Point){\r\n      this.x /= point.x;\r\n      this.y /= point.y;\r\n      return this;\r\n   }\r\n\r\n   perp(){\r\n      let temp = this.x;\r\n      \r\n      this.x = this.y;\r\n      this.y = -temp;\r\n\r\n      return this;\r\n   }\r\n   \r\n   scale(scaler: number){\r\n      this.x *= scaler;\r\n      this.y *= scaler;\r\n      return this;\r\n   }\r\n\r\n   distance(point: Point){\r\n      return point.clone().sub(this).length();\r\n   }\r\n\r\n   dot(point: Point){\r\n      return this.x * point.x + this.y * point.y;\r\n   }\r\n\r\n   lineDistanceSigned(from: Point, to: Point){\r\n      let dir = to.clone().sub(from);\r\n      let length = dir.length();\r\n\r\n      dir.normalize();\r\n\r\n      let perp = dir.clone().perp();\r\n\r\n      let relativePoint = this.clone().sub(from);\r\n\r\n      let dot = dir.dot(relativePoint);\r\n\r\n      // If its not projected within the line segment\r\n      if(dot < 0) return this.distance(from);\r\n      if(dot > length) return this.distance(to);\r\n\r\n      // Otherwise project over the other axis\r\n      return perp.dot(relativePoint);\r\n   }\r\n   \r\n   lineDistance(from: Point, to: Point){\r\n      return Math.abs(this.lineDistanceSigned(from, to));\r\n   }\r\n\r\n   toString(){\r\n      return \"(\" + Math.round(this.x * 100) / 100 + \", \" + Math.round(this.y * 100) / 100 + \")\";\r\n   }\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\nimport { FractalEditorState } from '@/model/FractalEditorState';\r\nimport Checkbox from '@/components/Checkbox.vue';\r\nimport Dropdown from '@/components/Dropdown.vue';\r\nimport { Shape } from '@/model/Fractal';\r\nimport Point from '@/model/Point';\r\n\r\n@Component({\r\n   components: { Checkbox, Dropdown },\r\n})\r\nexport default class FractalEditorToolSelection extends Vue {\r\n   private selectedTab = 0;\r\n\r\n   @Prop() private state!: FractalEditorState;\r\n\r\n   private toggleRecursive(rec: boolean){\r\n      if(rec){\r\n         this.state.selectedShape!.fractal = this.state.selectedFractal;\r\n      }\r\n      else{\r\n         this.state.selectedShape!.fractal = undefined;\r\n      }\r\n\r\n      this.state.onFractalChange.emit();\r\n   }\r\n\r\n   private toggleDrawSelf(rec: boolean){\r\n      this.state.selectedShape!.drawSelf = rec;\r\n\r\n      this.state.onFractalChange.emit();\r\n   }\r\n\r\n   private flip(){\r\n      this.state.selectedShape!.flip();\r\n      this.state.onFractalChange.emit();\r\n   }\r\n   private del(){\r\n      this.state.deleteSelected();\r\n      this.state.onFractalChange.emit();\r\n   }\r\n\r\n   get isRecursive(){\r\n      return this.state.hasSelectedShape\r\n         && this.state.selectedShape!.fractal != undefined;\r\n   }\r\n   get hasDrawSelf(){\r\n      return this.state.hasSelectedShape\r\n         && this.state.selectedShape?.drawSelf;\r\n   }\r\n\r\n   private add(){\r\n      let shape = new Shape(\r\n         new Point(0, 0), new Point(0.5, 0)\r\n      );\r\n      this.state.selectedFractal!.shapes.push(shape);\r\n      this.state.selectShape(shape);\r\n   }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditorToolSelection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditorToolSelection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FractalEditorToolSelection.vue?vue&type=template&id=3f92f3ac&scoped=true&\"\nimport script from \"./FractalEditorToolSelection.vue?vue&type=script&lang=ts&\"\nexport * from \"./FractalEditorToolSelection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FractalEditorToolSelection.vue?vue&type=style&index=0&id=3f92f3ac&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f92f3ac\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"canvas\",attrs:{\"tabindex\":\"0\"},on:{\"mouseenter\":_vm.mouseEnter,\"mouseleave\":_vm.mouseLeave,\"mousedown\":_vm.mouseDown,\"mouseup\":_vm.mouseUp,\"mousemove\":_vm.mouseMove,\"mousewheel\":_vm.mouseWheel,\"keydown\":_vm.keyDown,\"keyup\":_vm.keyUp}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Point from '@/model/Point';\r\nimport { FractalRenderer } from './FractalRenderer';\r\nimport { Gradient } from './Gradient';\r\n\r\nexport const BlendModes = {\r\n   Normal: \"normal\",\r\n   Multiply: \"multiply\",\r\n   Screen: \"screen\",\r\n   Lighten: \"lighten\",\r\n   ColorDodge: \"color-dodge\",\r\n   ColorBurn: \"color-burn\",\r\n   HardLight: \"hard-light\",\r\n   SoftLight: \"soft-light\",\r\n   Subtract: \"difference\",\r\n   Copy: \"copy\",\r\n};\r\n\r\nexport const BackgroundTypes = {\r\n   Color: \"Color\",\r\n   Gradient: \"Gradient\",\r\n   Image: \"Image\",\r\n   Transparent: \"Transparent\"\r\n};\r\n\r\nexport const ColorTypes = {\r\n   Color: \"Color\",\r\n   Gradient: \"Gradient\",\r\n   IterationGradient: \"Iteration Gradient\",\r\n};\r\n\r\nexport const LineWidthUnit = {\r\n   Pixels: \"px\",\r\n   Millimeters: \"mm\",\r\n};\r\n\r\nexport interface BackgroundSettings{\r\n   type: string;\r\n\r\n   color: string;\r\n   gradient?: Gradient;\r\n\r\n   // For image type\r\n   image?: HTMLImageElement; // TODO stuff like object-fit and object-position\r\n   \r\n   // For linear gradients\r\n   gradientFrom?: Point;\r\n   gradientTo?: Point;\r\n}\r\n\r\nexport interface ColorSettings{\r\n   type: string;\r\n\r\n   color?: string;\r\n   gradient?: Gradient;\r\n\r\n   gradientFrom?: Point;\r\n   gradientTo?: Point;\r\n\r\n   gradientCache?: CanvasGradient;\r\n}\r\n\r\nexport interface LineWidthSettings{\r\n   width: number;\r\n   unit: string;\r\n}\r\n\r\n\r\nexport class FractalRenderSettings{\r\n   // TODO make this a class that also allows gradients and whatnot (screen space and normal space, whatever)\r\n   color: ColorSettings;\r\n   backgroundColor: BackgroundSettings;\r\n\r\n   blendMode: string;\r\n\r\n   lineWidth: LineWidthSettings;\r\n\r\n   constructor(){\r\n      // Default color sceme\r\n      // this.color = \"#2f1c0810\";\r\n      // this.backgroundColor = \"#f5e6ce\";\r\n\r\n      this.color =            { type: ColorTypes.Color, color: \"#22222240\" };\r\n      this.backgroundColor =  { type: BackgroundTypes.Color, color: \"#fff\" };\r\n      this.lineWidth =        { unit: LineWidthUnit.Pixels, width: 1 };\r\n\r\n      this.blendMode = BlendModes.Normal;\r\n\r\n      // this.backgroundColor =  { \r\n      //    type: BackgroundTypes.Gradient, \r\n      //    color: \"#fff\",\r\n      //    gradient: new Gradient()\r\n      //       .addStop(0, \"fffaf0\")//  \r\n      //       .addStop(1, \"f5efe4\"), //\r\n      //    gradientFrom: new Point(0, 10),\r\n      //    gradientTo: new Point(0, -1),\r\n      // };\r\n      \r\n      this.color =  { \r\n         type: ColorTypes.Color, \r\n         color: \"#2e2c2840\",\r\n         // gradient: new Gradient()\r\n         //    .addStop(0, \"#2224\")\r\n         //    .addStop(1, \"#fff4\"),\r\n         // gradientFrom: new Point(-1, -1),\r\n         // gradientTo: new Point(1, 1),\r\n      };\r\n\r\n\r\n      // this.color = \"#99dd3320\";\r\n      // this.backgroundColor = \"#222\";\r\n      // this.blendMode = BlendModes.Add;\r\n      \r\n      // this.color = \"#ff883310\";\r\n      // this.backgroundColor = \"#222\";\r\n      // this.blendMode = BlendModes.Add;\r\n      \r\n      // this.color = \"#FF149310\";\r\n      // this.backgroundColor = \"#000\";\r\n      // this.blendMode = BlendModes.Add;\r\n\r\n      // this.backgroundColor = \"#297373\";\r\n      // this.color = \"#FF855240\";\r\n   }\r\n\r\n   public assign(other: FractalRenderSettings){\r\n      this.color = other.color;\r\n      this.backgroundColor = other.backgroundColor;\r\n      this.blendMode = other.blendMode;\r\n      this.lineWidth = other.lineWidth;\r\n   }\r\n\r\n   public applyColor(context: CanvasRenderingContext2D, normalizedIterations: number, from: Point, to: Point){\r\n      // Set the color\r\n      switch(this.color.type){\r\n         case ColorTypes.Color:\r\n            context.strokeStyle = this.color.color!;\r\n            break;\r\n         case ColorTypes.IterationGradient:\r\n            context.strokeStyle = this.color.gradient!.evaluate(normalizedIterations);\r\n            break;\r\n         case ColorTypes.Gradient:\r\n            if(this.color.gradientCache === undefined){\r\n               this.color.gradientCache = this.color.gradient?.toCanvasGradient(\r\n                  context,\r\n                  this.color.gradientFrom!,\r\n                  this.color.gradientTo!\r\n               )\r\n            }\r\n            context.strokeStyle = this.color.gradientCache!;\r\n            break;\r\n      }\r\n\r\n      context.fillStyle = context.strokeStyle;\r\n   }\r\n}","import Point from '@/model/Point';\r\n\r\nexport class RenderWindowBounds{\r\n\r\n   public top: number;\r\n   public left: number;\r\n   public bottom: number;\r\n   public right: number;\r\n\r\n   constructor(left: number, top: number, right: number, bottom: number){\r\n      this.top = top;\r\n      this.left = left;\r\n      this.bottom = bottom;\r\n      this.right = right;\r\n   }\r\n\r\n   get x(){\r\n      return this.left;\r\n   }\r\n\r\n   get y(){\r\n      return this.top;\r\n   }\r\n\r\n   get width(){\r\n      return this.right - this.left;\r\n   }\r\n   \r\n   get height(){\r\n      return this.bottom - this.top;\r\n   }\r\n   \r\n}\r\n\r\nexport class RenderWindow{\r\n   // TODO aspect ratio\r\n   // TODO helper functions for getting the coords to canvas\r\n   // TODO rotation\r\n   public focalPoint = new Point(0, 0);\r\n   public viewScale = 1;\r\n\r\n   // This shouldn't be used :)\r\n   screenScale(width: number, height: number){\r\n      return height / 2 / this.viewScale;\r\n   }\r\n   screenCenterX(width: number, height: number){\r\n      let centerX = width / 2;\r\n      centerX -=  this.screenScale(width, height) * this.focalPoint.x;\r\n      return centerX;\r\n   }\r\n   screenCenterY(width: number, height: number){\r\n      let centerY = height / 2;\r\n      centerY +=  this.screenScale(width, height) * this.focalPoint.y;\r\n      return centerY;\r\n   }\r\n   getPixelSize(width: number, height: number){\r\n      return this.viewScale / height * 2;\r\n   }\r\n\r\n   applyToContext(canvas: HTMLCanvasElement|OffscreenCanvas, context: CanvasRenderingContext2D|OffscreenCanvasRenderingContext2D){\r\n      context.translate(canvas.width / 2, canvas.height / 2);\r\n      context.scale(canvas.height / 2, canvas.height / 2);\r\n      context.scale(1 / this.viewScale, -1 / this.viewScale);\r\n      context.translate(-this.focalPoint.x, -this.focalPoint.y);\r\n   }\r\n\r\n   get bounds(){\r\n      return new RenderWindowBounds(\r\n         this.focalPoint.x - this.viewScale,\r\n         this.focalPoint.y + this.viewScale,\r\n\r\n         this.focalPoint.x + this.viewScale,\r\n         this.focalPoint.y - this.viewScale\r\n      );\r\n   }\r\n\r\n   /**\r\n    * @param aspectRatio As width / height\r\n    */\r\n   getBounds(aspectRatio: number){\r\n      return new RenderWindowBounds(\r\n         this.focalPoint.x - this.viewScale * aspectRatio,\r\n         this.focalPoint.y + this.viewScale,\r\n\r\n         this.focalPoint.x + this.viewScale * aspectRatio,\r\n         this.focalPoint.y - this.viewScale\r\n      );\r\n   }\r\n}","import { FractalRenderSettings } from '@/renderer/FractalRenderSettings';\r\nimport { RenderWindow } from '@/renderer/RenderWindow';\r\nimport Fractal from './Fractal';\r\n\r\nexport class Composite{\r\n   fractal?: Fractal;\r\n   \r\n   settings: FractalRenderSettings;\r\n   window: RenderWindow;\r\n\r\n   constructor(){\r\n      this.fractal = undefined;\r\n      \r\n      this.settings = new FractalRenderSettings();\r\n      this.window = new RenderWindow();\r\n   }\r\n\r\n   // Don't use these?\r\n   public setFractal(fractal: Fractal){  \r\n      this.fractal = fractal;\r\n   }\r\n   public setSettings(settings: FractalRenderSettings){  \r\n      this.settings = settings;\r\n   }\r\n}","\r\n\r\nexport class OutputSettings{\r\n   public width: number;\r\n   public height: number;\r\n\r\n   public iterations: number;\r\n   public dpi: number;\r\n\r\n   public outputFormat: string = \"png\";\r\n\r\n   constructor(){\r\n      this.width = 1920;\r\n      this.height = 1080;\r\n\r\n      this.iterations = 14;\r\n      this.dpi = 300;\r\n   }\r\n\r\n   public assign(other: OutputSettings){\r\n      this.width = other.width;\r\n      this.height = other.height;\r\n      this.iterations = other.iterations;\r\n      this.dpi = other.dpi;\r\n   }\r\n}","import { Composite } from './Composite';\r\nimport Fractal, { createDefaultFractal } from \"./Fractal\";\r\nimport { FractalEditorState } from './FractalEditorState';\r\nimport { OutputSettings } from './OutputSettings';\r\n\r\nclass AppModel{\r\n   public fractals: Fractal[];\r\n   public composite: Composite;\r\n   public outputSettings: OutputSettings;\r\n\r\n   constructor(){\r\n      /** @type {Fractal[]} */\r\n      this.fractals = [createDefaultFractal()];\r\n      \r\n      this.composite = new Composite();\r\n      this.outputSettings = new OutputSettings();\r\n\r\n      this.composite.fractal = this.fractals[0];\r\n   }\r\n}\r\n\r\nexport default new AppModel();","\r\nimport Point from '@/model/Point';\r\nimport Fractal, { BaseShape, transformPoint, Shape } from \"../model/Fractal\";\r\nimport { BackgroundTypes, BlendModes, FractalRenderSettings } from './FractalRenderSettings';\r\nimport { RenderWindow, RenderWindowBounds } from './RenderWindow';\r\n\r\n\r\nexport function drawFractal(context: CanvasRenderingContext2D, fractal: Fractal, x: number, y: number, x2: number, y2: number, iterations: number){\r\n   let lastIteration = iterations <= 0;\r\n\r\n   fractal.shapes.forEach(shape => {\r\n      let from = transformPoint(x,y,x2,y2,shape.from);\r\n      let to = transformPoint(x,y,x2,y2,shape.to);\r\n\r\n      if(shape.drawSelf || shape.fractal == null || lastIteration){\r\n         // Draw the self shape\r\n         if(shape.baseShape === BaseShape.Line){\r\n            context.moveTo(from.x, from.y);\r\n            context.lineTo(to.x, to.y);\r\n         }\r\n         if(shape.baseShape === BaseShape.Circle){\r\n            let centerX = (from.x + to.x) / 2;\r\n            let centerY = (from.y + to.y) / 2;\r\n            let radius = from.distance(to) / 2;\r\n\r\n            context.moveTo(centerX + radius, centerY);\r\n\r\n            context.arc(\r\n               centerX, \r\n               centerY,\r\n               radius,\r\n               0, \r\n               Math.PI * 2\r\n            );\r\n         }\r\n         else{\r\n            // Draw nothing\r\n            // console.log(\"Unsupported base shape: \" + shape.baseShape);\r\n         }\r\n      }\r\n      \r\n      if(shape.fractal == null || lastIteration){\r\n         return;\r\n      }\r\n      \r\n      drawFractal(context, shape.fractal, from.x, from.y, to.x, to.y, iterations - 1);\r\n   });\r\n}\r\n\r\nexport function calculateSteps(fractal: Fractal|undefined, iterations: number){\r\n   let count = 1;\r\n\r\n   if(iterations <= 0) return count;\r\n   if(fractal === undefined) return count;\r\n\r\n   for(let i = 0; i < fractal.shapes.length; i++){\r\n      count += estimateSteps(fractal.shapes[i].fractal, iterations - 1);\r\n   }\r\n\r\n   return count;\r\n}\r\n\r\nexport function estimateSteps(fractal: Fractal|undefined, iterations: number): number{\r\n   if(iterations <= 0) return 1;\r\n   if(fractal === undefined) return 0;\r\n\r\n   let shapesLength = 0;\r\n\r\n   fractal.shapes.forEach(shape => {\r\n      if(!!shape.fractal){\r\n         shapesLength++;\r\n      }\r\n   });\r\n\r\n   return Math.pow(shapesLength, iterations) + estimateSteps(fractal, iterations - 1);\r\n}\r\n\r\nexport class FractalQueueItem{\r\n   public fractal: Fractal;\r\n   public iterations: number;\r\n\r\n   public x: number;\r\n   public y: number;\r\n   public x2: number;\r\n   public y2: number;\r\n\r\n   constructor(fractal: Fractal, iterations: number, x: number, y: number, x2: number, y2: number){\r\n      this.fractal = fractal;\r\n      this.iterations = iterations;\r\n\r\n      // Probably can be point\r\n      this.x = x;\r\n      this.y = y;\r\n      this.x2 = x2;\r\n      this.y2 = y2;\r\n   }\r\n}\r\n\r\nexport class FractalQueue{\r\n   public queue: FractalQueueItem[];\r\n   public length: number; \r\n\r\n   constructor(){\r\n      this.queue = [];\r\n      this.length = 0;\r\n\r\n      for(let i = 0; i < 100; i++){\r\n         this.queue.push(new FractalQueueItem(new Fractal(), 0, 0, 0, 0, 0));\r\n      }\r\n   }\r\n   \r\n   public pop(): FractalQueueItem|undefined {\r\n      if(this.length <= 0) return undefined;\r\n\r\n      this.length--;\r\n      return this.queue[this.length];\r\n   }\r\n   \r\n   enqueue(fractal: Fractal, x: number, y: number, x2: number, y2: number, iterations: number){\r\n      let item: FractalQueueItem|undefined = undefined;\r\n\r\n      if(this.length >= this.queue.length){\r\n         item = new FractalQueueItem(fractal, iterations, x, y, x2, y2);\r\n         this.queue.push(item);\r\n      }\r\n      else{\r\n         item = this.queue[this.length];// = new FractalQueueItem(fractal, iterations, x, y, x2, y2);\r\n      }\r\n\r\n      item.fractal = fractal;\r\n      item.iterations = iterations;\r\n\r\n      item.x = x;\r\n      item.y = y;\r\n      item.x2 = x2;\r\n      item.y2 = y2;\r\n\r\n      this.queue[this.length] = item;\r\n\r\n      this.length++;\r\n   }\r\n   clear(){\r\n      this.length = 0;\r\n   }\r\n}\r\n\r\nexport class FractalRenderer{\r\n   public context: CanvasRenderingContext2D;\r\n   public queue: FractalQueue;\r\n\r\n   public settings: FractalRenderSettings;\r\n\r\n   public _animationFrame: number = -1;\r\n\r\n   public onRenderDone?: () => void;\r\n   public onRenderStep?: (progress: number) => void;\r\n   \r\n   private stepsDone: number = 0;\r\n   private stepsEstimate: number = 1;\r\n\r\n   private _fromPointBuffer = new Point();\r\n   private _toPointBuffer = new Point();\r\n\r\n   constructor(context: CanvasRenderingContext2D){\r\n      this.context = context;\r\n\r\n      this.queue = new FractalQueue();\r\n      this.settings = new FractalRenderSettings();\r\n   }\r\n   \r\n   renderFractal(fractal: Fractal, x: number, y: number, x2: number, y2: number, iterations: number){\r\n      this.reset();\r\n      this.enqueueFractal(fractal, x, y, x2, y2, iterations);\r\n\r\n      this.stepsDone = 0;\r\n      this.stepsEstimate = estimateSteps(fractal, iterations);\r\n\r\n      this.draw();\r\n   }\r\n\r\n\r\n   reset(){\r\n      if(this._animationFrame >= 0){\r\n         clearTimeout(this._animationFrame);\r\n      }\r\n      \r\n      this._animationFrame = -1;\r\n      this.queue.clear();\r\n   }\r\n\r\n   enqueueFractal(fractal: Fractal, x: number, y: number, x2: number, y2: number, iterations: number){\r\n      this.queue.enqueue(fractal, x, y, x2, y2, iterations);\r\n   }\r\n\r\n   popFractal(){\r\n      if(this.queue.length === 0) return;\r\n\r\n      let item = this.queue.pop()!; // DONT USE ITEM BECAUSE THIS GETS REUSED IN THE QUEUE AFTER POPPING.\r\n\r\n      let fractal = item.fractal;\r\n      let x = item.x;\r\n      let y = item.y;\r\n      let x2 = item.x2;\r\n      let y2 = item.y2;\r\n      let iterations = item.iterations;\r\n\r\n      let lastIteration = item.iterations <= 0;\r\n\r\n      // Based on length. Someday?\r\n      // lastIteration = Math.sqrt(\r\n      //    Math.pow(item.x2 - item.x, 2) + Math.pow(item.y2 - item.y, 2)\r\n      //    ) < 10 || lastIteration;\r\n\r\n      for(let i = 0; i < fractal.shapes.length; i++){\r\n         let shape = fractal.shapes[i];\r\n\r\n         let from = transformPoint(x, y, x2, y2, shape.from, this._fromPointBuffer);\r\n         let to = transformPoint(x, y, x2, y2, shape.to, this._toPointBuffer);\r\n   \r\n         if(shape.drawSelf || shape.fractal == null || lastIteration){\r\n            // Draw the self shape\r\n            this.context.beginPath();\r\n\r\n            this.settings.applyColor(this.context, this.stepsDone / this.stepsEstimate, from, to);\r\n\r\n            if(shape.baseShape === BaseShape.Line){\r\n               this.context.moveTo(from.x, from.y);\r\n               this.context.lineTo(to.x, to.y);\r\n            }\r\n            if(shape.baseShape === BaseShape.Circle){\r\n               let centerX = (from.x + to.x) / 2;\r\n               let centerY = (from.y + to.y) / 2;\r\n               let radius = from.distance(to) / 2;\r\n   \r\n               this.context.moveTo(centerX + radius, centerY);\r\n   \r\n               this.context.arc(\r\n                  centerX, \r\n                  centerY,\r\n                  radius,\r\n                  0, \r\n                  Math.PI * 2\r\n               );\r\n            }\r\n\r\n            this.context.stroke();\r\n         }\r\n         \r\n         if(shape.fractal == null || lastIteration){\r\n            continue;\r\n         }\r\n\r\n         this.enqueueFractal(shape.fractal, from.x, from.y, to.x, to.y, iterations - 1);\r\n      }\r\n   }\r\n\r\n   drawBackground(bounds: RenderWindowBounds){\r\n      this.context!.clearRect(\r\n         bounds.x,\r\n         bounds.y,\r\n         bounds.width,\r\n         bounds.height\r\n      );\r\n\r\n      const bg = this.settings.backgroundColor;\r\n   \r\n      switch(bg.type){\r\n         case BackgroundTypes.Color:\r\n            this.context!.fillStyle = bg.color!;\r\n            this.context!.fillRect(\r\n               bounds.x,\r\n               bounds.y,\r\n               bounds.width,\r\n               bounds.height\r\n            );\r\n            break;\r\n         case BackgroundTypes.Transparent:\r\n            this.context!.clearRect(\r\n               bounds.x,\r\n               bounds.y,\r\n               bounds.width,\r\n               bounds.height\r\n            );\r\n            break;\r\n         case BackgroundTypes.Gradient:\r\n            this.context!.fillStyle = \r\n               bg.gradient!.toCanvasGradient(\r\n                  this.context!,\r\n                  bg.gradientFrom!,\r\n                  bg.gradientTo!\r\n               );\r\n            this.context!.fillRect(\r\n               bounds.x,\r\n               bounds.y,\r\n               bounds.width,\r\n               bounds.height\r\n            );\r\n            break;\r\n         case BackgroundTypes.Image:\r\n            this.context!.fillStyle = bg.color!;\r\n            this.context!.fillRect(\r\n               bounds.x,\r\n               bounds.y,\r\n               bounds.width,\r\n               bounds.height\r\n            );\r\n            this.context!.drawImage(\r\n               bg.image!,\r\n               -1,\r\n               1,\r\n               2,\r\n               -2\r\n            );\r\n            break;\r\n      }\r\n\r\n      \r\n   }\r\n\r\n   draw(){\r\n      this._animationFrame = -1;\r\n\r\n      let loops = 0;\r\n\r\n      // this.context.strokeStyle = this.settings.color;\r\n      this.context.lineWidth = this.settings.lineWidth.width;\r\n\r\n      this.context.globalCompositeOperation = this.settings.blendMode;\r\n      \r\n      let max = Math.max(this.queue.length, 0);\r\n      \r\n      // this.context.beginPath();\r\n      while(this.queue.length > 0 && loops < 1000){         \r\n         // This is actually pretty inefficient. TODO make this better\r\n         this.popFractal();\r\n         \r\n         max = Math.max(this.queue.length, 0);\r\n         \r\n         loops++;\r\n         \r\n         this.stepsDone++;\r\n      }\r\n      // this.context.stroke();\r\n\r\n      this.context.globalCompositeOperation = BlendModes.Normal;\r\n\r\n      if(this.onRenderStep !== undefined){\r\n         this.onRenderStep(this.stepsDone / this.stepsEstimate * 100);\r\n      }\r\n\r\n      if(this.queue.length > 0){\r\n         // this._animationFrame = requestAnimationFrame(this.draw.bind(this));\r\n         this._animationFrame = setTimeout(this.draw.bind(this), 0);\r\n      }\r\n      else{\r\n         if(this.onRenderDone !== undefined){\r\n            this.onRenderDone();\r\n         }\r\n      }\r\n   }\r\n}","\r\nexport default function drawGrid(context: CanvasRenderingContext2D, x: number, y: number, width: number, height: number, subdivisions?: number){\r\n   if(subdivisions === undefined){\r\n      subdivisions = 10;\r\n   }\r\n\r\n   context.beginPath();\r\n\r\n   for(let i = 0; i <= subdivisions; i++){\r\n      context.moveTo(x + i / subdivisions * width, y);\r\n      context.lineTo(x + i / subdivisions * width, y + height);\r\n   }\r\n   \r\n   for(let i = 0; i <= subdivisions; i++){\r\n      context.moveTo(x, y + i / subdivisions * height);\r\n      context.lineTo(x + width, y + i / subdivisions * height);\r\n   }\r\n   \r\n   context.stroke();\r\n}\r\n\r\nexport function drawRectangle(context: CanvasRenderingContext2D, x: number, y: number, width: number, height: number){\r\n   \r\n   context.beginPath();\r\n\r\n   context.moveTo(x, y);\r\n   context.lineTo(x + width, y);\r\n   context.lineTo(x + width, y + height);\r\n   context.lineTo(x, y + height);\r\n   context.lineTo(x, y);\r\n   \r\n   context.stroke();\r\n}\r\n","export class Signal{\r\n   functions: (() => void)[];\r\n\r\n   constructor(){\r\n      this.functions = [];\r\n   }\r\n\r\n   listen(func: () => void){\r\n      this.functions.push(func);\r\n   }\r\n   remove(func: () => void){\r\n      let index = this.functions.indexOf(func);\r\n      if(index < 0) return;\r\n\r\n      this.functions.splice(index);\r\n   }\r\n\r\n   emit(){\r\n      this.functions.forEach(func => func());\r\n   }\r\n}\r\n\r\ninterface BundledSignal{\r\n   listener: (() => void);\r\n   target: Signal;\r\n}\r\n\r\nexport class SignalBundle{\r\n   signals: BundledSignal[] = [];\r\n\r\n   listenTo(target: Signal, listener: (() => void)){\r\n      target.listen(listener);\r\n      this.signals.push({target, listener})\r\n   }\r\n\r\n   removeAll(){\r\n      this.signals.forEach(bundle => bundle.target.remove(bundle.listener));\r\n   }\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\n\r\nimport AppModel from '@/model/AppModel';\r\nimport { drawFractal, FractalRenderer } from '@/renderer/FractalRenderer'; \r\nimport { FractalEditorState } from '@/model/FractalEditorState'; \r\nimport drawGrid, { drawRectangle } from '@/renderer/GridRenderer';\r\nimport Point from '@/model/Point';\r\nimport { transformPoint } from '@/model/Fractal';\r\n\r\nimport tinycolor from \"tinycolor2\";\r\nimport { SignalBundle } from '@/util/Signal';\r\n\r\n@Component\r\nexport default class FractalWindow extends Vue {\r\n   @Prop() private state!: FractalEditorState;\r\n\r\n   public $refs!: { canvas: HTMLCanvasElement };\r\n   private context?: CanvasRenderingContext2D;\r\n\r\n   private panning: boolean = false;\r\n   private dragging: boolean = false;\r\n\r\n   private snap: boolean = false;\r\n\r\n   private previousMousePosition: Point = new Point();\r\n   \r\n   private compositeScaling: boolean = false;\r\n   private compositeWindowOffset: Point = new Point();\r\n\r\n   private renderer?: FractalRenderer;\r\n\r\n   private bundle: SignalBundle = new SignalBundle();\r\n\r\n   public mounted() {\r\n      this.context = this.$refs.canvas.getContext('2d')!;\r\n\r\n      this.renderer = new FractalRenderer(this.context);\r\n      this.renderer.settings = AppModel.composite.settings;\r\n\r\n      this.onStateChange(this.state);\r\n\r\n      this.draw();\r\n   }\r\n\r\n   public unmounted(){\r\n      this.bundle.removeAll();\r\n   }\r\n\r\n   @Watch(\"state\")\r\n   public onStateChange(state: FractalEditorState){\r\n      this.bundle.removeAll();\r\n\r\n      if(this.state === undefined) return;\r\n\r\n      this.bundle.listenTo(this.state.onSelectedPointChange, this.draw.bind(this));\r\n      this.bundle.listenTo(this.state.onSelectedShapeChange, this.draw.bind(this));\r\n      this.bundle.listenTo(this.state.onSelectedFractalChange, this.draw.bind(this));\r\n      this.bundle.listenTo(this.state.onFractalChange, this.draw.bind(this));\r\n   }\r\n   \r\n   // TODO maybe move this out of here into a different part of town :)\r\n   private mouseEnter(event: MouseEvent){\r\n   }\r\n   private mouseLeave(event: MouseEvent){\r\n      this.panning = false;\r\n      this.dragging = false;\r\n   }\r\n   private mouseMove(event: MouseEvent){\r\n      let newPosition = this.mouseEventToPoint(event);\r\n\r\n      let deltaX = newPosition.x - this.previousMousePosition.x;\r\n      let deltaY = newPosition.y - this.previousMousePosition.y;\r\n\r\n      if(this.panning){\r\n         this.state!.editorWindow.focalPoint.x -= deltaX;\r\n         this.state!.editorWindow.focalPoint.y -= deltaY;\r\n\r\n         // Because the view moves we need to move the actual point where the cursor is pointing now (actually, that hasn't changed)\r\n         newPosition.x -= deltaX;\r\n         newPosition.y -= deltaY;\r\n\r\n         this.draw();\r\n      }\r\n      if(this.dragging && this.state!.hasSelectedPoint){\r\n         this.state!.selectedPoint!.assign(newPosition);\r\n\r\n         if(this.snap){\r\n            this.state!.selectedPoint!.x = Math.round(this.state!.selectedPoint!.x * this.state!.gridX) / this.state!.gridX;\r\n            this.state!.selectedPoint!.y = Math.round(this.state!.selectedPoint!.y * this.state!.gridY) / this.state!.gridY;\r\n         }\r\n         this.draw();\r\n      }\r\n      else if(this.dragging && this.state!.hasSelectedShape){\r\n         // this.state!.selectedPoint!.assign(newPosition);\r\n         let shape = this.state!.selectedShape!;\r\n         shape.from.x += deltaX;\r\n         shape.from.y += deltaY;\r\n         shape.to.x += deltaX;\r\n         shape.to.y += deltaY;\r\n\r\n         // This doesn't really work tbh\r\n         if(this.snap){\r\n            let relativePoint = this.state!.selectedShape!.direction;\r\n            \r\n            shape.from.x = Math.round(shape.from.x * this.state!.gridX) / this.state!.gridX;\r\n            shape.from.y = Math.round(shape.from.y * this.state!.gridY) / this.state!.gridY;\r\n\r\n            shape.to.x = shape.from.x + relativePoint.x;\r\n            shape.to.y = shape.from.y + relativePoint.y;\r\n         }\r\n         this.draw();\r\n      }\r\n      if(this.dragging && this.state!.hasSelectedComposite){\r\n         let window = this.state!.selectedComposite!.window;\r\n\r\n         if(this.compositeScaling){\r\n            let correction = Math.sqrt(2);\r\n\r\n            let offset = newPosition.clone().sub(window.focalPoint);\r\n\r\n            window.viewScale = offset.length() / correction;\r\n         }\r\n         else{\r\n            window.focalPoint.assign(newPosition).sub(this.compositeWindowOffset);\r\n\r\n            console.log(window.focalPoint.toString());\r\n   \r\n            if(this.snap){\r\n               window.focalPoint.x = Math.round(window.focalPoint.x * this.state!.gridX) / this.state!.gridX;\r\n               window.focalPoint.y = Math.round(window.focalPoint.y * this.state!.gridY) / this.state!.gridY;\r\n            }\r\n         }\r\n\r\n         this.draw();\r\n      }\r\n      \r\n      this.previousMousePosition = newPosition;\r\n   }\r\n   private mouseUp(event: MouseEvent){\r\n      if(event.button === 0){\r\n         this.dragging = false;\r\n      }\r\n      if(event.button === 1){\r\n         this.panning = false;\r\n      }\r\n   }\r\n   private mouseDown(event: MouseEvent){\r\n      this.canvas.focus();\r\n\r\n      this.previousMousePosition = this.mouseEventToPoint(event);\r\n\r\n      // console.log(this.previousMousePosition.toString());\r\n\r\n      if(event.button === 0){\r\n         this.dragging = this.select(this.previousMousePosition);\r\n\r\n         this.draw();\r\n      }\r\n      if(event.button === 1){\r\n         this.panning = true;\r\n      }\r\n   }\r\n   private mouseWheel(event: MouseWheelEvent){\r\n      if(event.deltaY < 0){\r\n         this.state!.editorWindow.viewScale /= 1 / 0.9;\r\n      }\r\n      if(event.deltaY > 0){\r\n         this.state!.editorWindow.viewScale /= 0.9;\r\n      }\r\n      this.draw();\r\n   }\r\n\r\n   private keyDown(event: KeyboardEvent){\r\n      if(event.key === \"Control\"){\r\n         this.snap = true;\r\n      }\r\n      if(event.key === \"Delete\"){\r\n         this.state!.deleteSelected();\r\n         this.draw();\r\n      }\r\n   }\r\n   private keyUp(event: KeyboardEvent){\r\n      if(event.key === \"Control\"){\r\n         this.snap = false;\r\n      }\r\n   }\r\n\r\n   // ============================================== //\r\n   // Drawing code\r\n   // ============================================== //\r\n   draw(){\r\n      let canvas = this.$refs.canvas;\r\n\r\n      canvas.width = canvas.offsetWidth;\r\n      canvas.height = canvas.offsetHeight;\r\n\r\n      // Set identity matrix\r\n      this.context!.resetTransform();\r\n      this.state!.editorWindow.applyToContext(this.canvas, this.context!);\r\n\r\n      this.renderer!.drawBackground(\r\n         this.state!.editorWindow.getBounds(this.canvas.width / this.canvas.height));\r\n\r\n      if(this.fractal !== undefined && this.renderer !== undefined){\r\n         this.renderer.reset();\r\n\r\n         // TODO remove this, and add it some otherplace\r\n         this.renderer.settings.lineWidth.width = this.pixelSize;\r\n\r\n         this.renderer.enqueueFractal(this.fractal, -1, 0, 1, 0, this.state!.iterations);\r\n         this.renderer.draw();\r\n      }\r\n\r\n      // Debug window settings!\r\n      if(false){\r\n         this.drawDebug();\r\n      }\r\n      \r\n      if(this.state!.showGrid){\r\n         this.drawGrid();\r\n      }\r\n      if(this.state!.showVertices){\r\n         this.drawVertices();\r\n         this.drawStartingPositions();\r\n      }\r\n\r\n      // Composite stuff\r\n      if(this.state!.hasSelectedComposite && this.state!.showCanvas){\r\n         this.drawCanvas();\r\n      }\r\n   }\r\n\r\n   drawDebug(){\r\n      let canvas = this.$refs.canvas;\r\n      let screenCenter = this.screenPointToWorldPoint(new Point(canvas.width / 2, canvas.height / 2));\r\n      let focalPoint = this.state!.editorWindow.focalPoint;\r\n      let mousePosition = this.previousMousePosition;\r\n\r\n      let drawPoint = (point: Point)=>{\r\n         this.context!.beginPath();\r\n         this.context!.arc(point.x, point.y, this.pixelSize * 10, 0, Math.PI * 2, false);\r\n         this.context!.stroke();\r\n      };\r\n\r\n      this.context!.lineWidth = this.pixelSize * 2;\r\n      this.context!.strokeStyle = \"red\";\r\n      drawPoint(focalPoint);\r\n\r\n      this.context!.strokeStyle = \"blue\";\r\n      drawPoint(screenCenter);\r\n\r\n      this.context!.strokeStyle = \"green\";\r\n      drawPoint(mousePosition);\r\n   }\r\n\r\n   drawGrid(){\r\n      let isDark = tinycolor(this.renderer!.settings.backgroundColor.color).isDark();\r\n\r\n      this.context!.strokeStyle = \"#0000000f\";\r\n      \r\n      if(isDark){\r\n         this.context!.strokeStyle = \"#ffffff0f\";\r\n      }\r\n\r\n      this.context!.lineWidth = this.pixelSize;\r\n\r\n      drawGrid(this.context!, -1, -1, 2, 2, 10);\r\n   }\r\n\r\n   drawVertices(){\r\n      this.context!.globalCompositeOperation = \"normal\";\r\n\r\n      let drawPoint = (point: Point)=>{\r\n         this.context!.beginPath();\r\n         this.context!.arc(point.x, point.y, this.pixelSize * 10, 0, Math.PI * 2, false);\r\n         this.context!.stroke();\r\n      };\r\n\r\n      let x = -1;\r\n      let y = 0;\r\n      let x2 = 1;\r\n      let y2 = 0;\r\n\r\n      if(this.fractal === undefined) return;\r\n\r\n      let isDark = tinycolor(this.renderer!.settings.backgroundColor.color).isDark();\r\n\r\n      // Drawing the lines between the vertices\r\n      this.fractal.shapes.forEach(shape => {\r\n         let from = shape.from;\r\n         let to = shape.to;\r\n\r\n         let mid = from.clone().add(to).scale(0.5);\r\n         let dir = to.clone().sub(from).normalize();\r\n         let perp = dir.clone().perp();\r\n         \r\n         this.context!.beginPath();      \r\n         this.context!.lineWidth = this.pixelSize;\r\n         this.context!.strokeStyle = \"black\";\r\n         \r\n         if(isDark){\r\n            this.context!.strokeStyle = \"white\";\r\n         }\r\n\r\n         if(this.state!.selectedShape == shape){\r\n            this.context!.strokeStyle = \"orange\";\r\n         }\r\n\r\n         // The actual line\r\n         this.context!.moveTo(from.x, from.y);\r\n         this.context!.lineTo(to.x, to.y);\r\n\r\n         // The arrow\r\n         const scale = 8 * this.pixelSize;\r\n   \r\n         this.context!.moveTo(mid.x, mid.y);\r\n         this.context!.lineTo(mid.x - dir.x * scale + perp.x * scale, mid.y - dir.y * scale + perp.y * scale);\r\n\r\n         this.context!.moveTo(mid.x, mid.y);\r\n         this.context!.lineTo(mid.x - dir.x * scale - perp.x * scale, mid.y - dir.y * scale - perp.y * scale);\r\n\r\n         this.context!.stroke();\r\n      });\r\n\r\n      // Draw the vertices\r\n      this.context!.strokeStyle = \"orange\";\r\n      this.context!.lineWidth = this.pixelSize * 4;\r\n      this.fractal.shapes.forEach(shape =>{\r\n         // let from = transformPoint(x, y, x2, y2, shape.from);\r\n         // let to = transformPoint(x, y, x2, y2, shape.to);\r\n         \r\n         this.context!.strokeStyle = \"orange\";\r\n         \r\n         // drawPoint(from);\r\n         // drawPoint(to);\r\n\r\n         drawPoint(shape.from);\r\n         drawPoint(shape.to);\r\n      });\r\n      this.context!.stroke();\r\n      \r\n   }\r\n\r\n   drawStartingPositions(){\r\n      // Draw the starting points\r\n      this.context!.strokeStyle = \"blue\";\r\n      this.context!.lineWidth = this.pixelSize * 1;\r\n      this.context!.beginPath();\r\n      this.context!.arc(-1, 0, this.pixelSize * 30, 0, Math.PI * 2, false);\r\n      this.context!.stroke();\r\n      this.context!.beginPath();\r\n      this.context!.arc(1, 0, this.pixelSize * 30, 0, Math.PI * 2, false);\r\n      this.context!.stroke();\r\n   }\r\n\r\n   drawCanvas(){\r\n      let isDark = tinycolor(this.renderer!.settings.backgroundColor.color).isDark();\r\n\r\n      let context = this.context!;\r\n      \r\n      let composite = this.state!.selectedComposite!;\r\n\r\n      this.context!.strokeStyle = \"#0000000f\";\r\n      \r\n      if(isDark){\r\n         this.context!.strokeStyle = \"#ffffff0f\";\r\n      }\r\n\r\n      let scale = composite.window.viewScale;\r\n\r\n      let x = composite.window.focalPoint.x;\r\n      let y = composite.window.focalPoint.y;\r\n      \r\n      let asp = 16 / 9;\r\n      \r\n      // Drawing the background\r\n      context.lineWidth = this.pixelSize;\r\n      drawRectangle(context, x - scale, y - scale, scale * 2, scale * 2);\r\n      drawRectangle(context, x - scale * asp, y - scale, scale * 2 * asp, scale * 2);\r\n      \r\n      // Drawing the corners\r\n      {\r\n         let cornerSize = scale / 5;\r\n\r\n         context.strokeStyle = \"#000000ff\";\r\n         if(isDark){\r\n            context.strokeStyle = \"#ffffffff\";\r\n         }\r\n         context.lineWidth = this.pixelSize * 2;\r\n   \r\n         context.beginPath();\r\n   \r\n         // Top left\r\n         context.moveTo(x - scale, y - scale);\r\n         context.lineTo(x - scale + cornerSize, y - scale);\r\n   \r\n         context.moveTo(x - scale, y - scale);\r\n         context.lineTo(x - scale, y - scale + cornerSize);\r\n         \r\n         // Bottom left\r\n         context.moveTo(x - scale, y + scale);\r\n         context.lineTo(x - scale + cornerSize, y + scale);\r\n   \r\n         context.moveTo(x - scale, y + scale);\r\n         context.lineTo(x - scale, y + scale - cornerSize);\r\n         \r\n         // Bottom right\r\n         context.moveTo(x + scale, y + scale);\r\n         context.lineTo(x + scale - cornerSize, y + scale);\r\n   \r\n         context.moveTo(x + scale, y + scale);\r\n         context.lineTo(x + scale, y + scale - cornerSize);\r\n\r\n         // Top right\r\n         context.moveTo(x + scale, y - scale);\r\n         context.lineTo(x + scale - cornerSize, y - scale);\r\n   \r\n         context.moveTo(x + scale, y - scale);\r\n         context.lineTo(x + scale, y - scale + cornerSize);\r\n         \r\n         // center\r\n         context.moveTo(x - cornerSize / 2, y);\r\n         context.lineTo(x + cornerSize / 2, y);\r\n         \r\n         context.moveTo(x, y - cornerSize / 2);\r\n         context.lineTo(x, y + cornerSize / 2);\r\n   \r\n         context.stroke();\r\n   \r\n         context.lineWidth = this.pixelSize * 1;\r\n      }\r\n   }\r\n\r\n   // ============================================== //\r\n   // Helper code\r\n   // ============================================== //\r\n   public select(point: Point): boolean{\r\n      const editorState = this.state!;\r\n\r\n      // TODO fire the events correctly. This needs to be kinda rewritten\r\n\r\n      // Selected composites. TODO make this behaviour plugable or something\r\n      if(editorState.hasSelectedComposite){\r\n         let window = editorState.selectedComposite!.window;\r\n         let relativePoint = point.clone().sub(window.focalPoint);\r\n         this.compositeWindowOffset.assign(relativePoint);\r\n\r\n         this.compositeScaling = relativePoint.length() > window.viewScale;\r\n\r\n         return true;\r\n      }\r\n      \r\n      if(this.fractal === undefined) return false;\r\n      if(editorState.canEditVertices === false) return false;\r\n\r\n      const fractal = this.fractal;\r\n\r\n      const maxDistance = this.pixelSize * 10;\r\n      let distance = maxDistance;\r\n\r\n      // Check if we need to select from the selected shape (that has prefference)\r\n      if(editorState.hasSelectedShape){\r\n         let fromDistance = point.distance(editorState.selectedShape!.from);\r\n         let toDistance = point.distance(editorState.selectedShape!.to);\r\n\r\n         let done = false;\r\n\r\n         if(fromDistance < distance){\r\n            editorState.selectedPoint = editorState.selectedShape!.from;\r\n            editorState.selectedShape = editorState.selectedShape!;\r\n            distance = fromDistance;\r\n            done = true;\r\n         }\r\n\r\n         if(toDistance < distance){\r\n            editorState.selectedPoint = editorState.selectedShape!.to;\r\n            editorState.selectedShape = editorState.selectedShape!;\r\n            distance = toDistance;\r\n\r\n            done = true;\r\n         }\r\n\r\n         if(done){\r\n            return true;\r\n         }\r\n      }\r\n\r\n      // Then, reset the selection\r\n      editorState.resetSelection();\r\n\r\n      // Then select the fractal we really want to select I guess.\r\n      fractal.shapes.forEach(shape => {\r\n         let fromDistance = point.distance(shape.from);\r\n         let toDistance = point.distance(shape.to);\r\n\r\n         if(fromDistance < distance){\r\n            editorState.selectedPoint = shape.from;\r\n            editorState.selectedShape = shape;\r\n            distance = fromDistance;\r\n         }\r\n\r\n         if(toDistance < distance){\r\n            editorState.selectedPoint = shape.to;\r\n            editorState.selectedShape = shape;\r\n            distance = toDistance;\r\n         }\r\n      });\r\n\r\n      if(editorState.hasSelectedPoint) return true;\r\n\r\n      // Reset our clicking range again\r\n      distance = maxDistance;\r\n\r\n      // Try to select a shape instead\r\n      fractal.shapes.forEach(shape => {\r\n         let d = point.lineDistance(shape.from, shape.to);\r\n\r\n         if(d < distance){\r\n            editorState.selectedShape = shape;\r\n            distance = d;\r\n         }\r\n      });\r\n\r\n      if(editorState.hasSelectedShape) return true;\r\n      \r\n      return false;\r\n   }\r\n\r\n   // ============================================== //\r\n   // Numbers\r\n   // ============================================== //\r\n   get fractal(){\r\n      return this.state!.selectedFractal;\r\n   }\r\n   get canvas(){\r\n      return this.$refs.canvas;\r\n   }\r\n   get pixelSize(){\r\n      return this.state!.editorWindow.getPixelSize(this.canvas.width, this.canvas.height);\r\n   }\r\n\r\n   // Dont use these for drwaing\r\n   get viewWidth(){\r\n      // return (this.canvas.width / 2) * this.state!.editorWindow.viewScale;\r\n      return this.state!.editorWindow.screenScale(\r\n         this.canvas.width,\r\n         this.canvas.height\r\n      );\r\n   }\r\n   get viewX(){\r\n      // let centerX = this.canvas.width / 2;\r\n      // centerX +=  this.viewWidth * this.state!.editorWindow.focalPoint.x;\r\n      // return centerX;\r\n      return this.state!.editorWindow.screenCenterX(\r\n         this.canvas.width,\r\n         this.canvas.height\r\n      );\r\n   }\r\n   get viewY(){\r\n      // let centerY = this.canvas.height / 2;\r\n      // centerY -=  this.viewWidth * this.state!.editorWindow.focalPoint.y;\r\n      // return centerY;\r\n      return this.state!.editorWindow.screenCenterY(\r\n         this.canvas.width,\r\n         this.canvas.height\r\n      );\r\n   }\r\n\r\n   mouseEventToPoint(event: MouseEvent): Point{\r\n      // y axis is reversed\r\n      // return new Point((event.offsetX - this.viewX) / this.viewWidth, -(event.offsetY - this.viewY) / this.viewWidth);\r\n      return this.screenPointToWorldPoint(new Point(event.offsetX, event.offsetY));\r\n   }\r\n\r\n   screenPointToWorldPoint(point: Point): Point{\r\n      return new Point((point.x - this.viewX) / this.viewWidth, -(point.y - this.viewY) / this.viewWidth);\r\n   }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalWindow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalWindow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FractalWindow.vue?vue&type=template&id=5169064e&scoped=true&\"\nimport script from \"./FractalWindow.vue?vue&type=script&lang=ts&\"\nexport * from \"./FractalWindow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FractalWindow.vue?vue&type=style&index=0&id=5169064e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5169064e\",\n  null\n  \n)\n\nexport default component.exports","import Point from '@/model/Point';\r\nimport Fractal, { Shape } from '@/model/Fractal';\r\nimport { FractalRenderSettings } from '@/renderer/FractalRenderSettings';\r\nimport { RenderWindow } from '@/renderer/RenderWindow';\r\nimport { Composite } from './Composite';\r\nimport { Signal } from '@/util/Signal';\r\n\r\n// TODO make this not a singleton and make sure we give this to the renderer (so we can also create embedded editors for interactive tutorials and whatnot)\r\nexport class FractalEditorState {\r\n   public showVertices = true;\r\n   public showGrid = false;\r\n   public showCanvas = false;\r\n\r\n   public canEditVertices = false;\r\n   public canEditCanvas = false;\r\n\r\n   public iterations = 8;\r\n\r\n   public selectedPoint?: Point = undefined;\r\n   public selectedShape?: Shape = undefined;\r\n   public selectedFractal?: Fractal = undefined;\r\n\r\n   public selectedComposite?: Composite = undefined;\r\n\r\n   // public editorRenderSettings: FractalRenderSettings;\r\n   public editorWindow : RenderWindow;\r\n\r\n   public gridX = 10;\r\n   public gridY = 10;\r\n\r\n   public onSelectedPointChange: Signal = new Signal();\r\n   public onSelectedShapeChange: Signal = new Signal();\r\n   public onSelectedFractalChange: Signal = new Signal();\r\n\r\n   public onFractalChange: Signal = new Signal();\r\n   \r\n   constructor(){\r\n      // this.editorRenderSettings = new FractalRenderSettings();\r\n      this.editorWindow = new RenderWindow();\r\n   }\r\n   \r\n   get hasSelectedComposite(): boolean{\r\n      if(this.selectedComposite === undefined) return false;\r\n      return true;\r\n   }\r\n\r\n   get hasSelectedFractal(): boolean{\r\n      if(this.selectedFractal === undefined) return false;\r\n      return true;\r\n   }\r\n\r\n   get hasSelectedShape(): boolean{\r\n      return this.hasSelectedFractal && this.selectedShape !== null && this.selectedShape !== undefined;\r\n   }\r\n\r\n   get hasSelectedPoint(): boolean{\r\n      return this.hasSelectedShape && this.selectedPoint !== null && this.selectedPoint !== undefined;\r\n   }\r\n\r\n   resetSelection(){\r\n      this.selectedPoint = undefined;\r\n      this.selectedShape = undefined;\r\n   }\r\n\r\n   deleteSelected(){\r\n      if(this.hasSelectedShape){\r\n         let shape = this.selectedShape!;\r\n\r\n         this.selectedFractal!.removeShape(shape);\r\n      }   \r\n   }\r\n\r\n   selectPoint(point?: Point){\r\n      this.selectedPoint = point;\r\n      this.onSelectedPointChange.emit();\r\n   }\r\n\r\n   selectShape(shape: Shape){\r\n      this.selectedShape = shape;\r\n      this.onSelectedShapeChange.emit();\r\n   }\r\n\r\n   selectFractal(fractal: Fractal){\r\n      this.selectedFractal = fractal;\r\n      this.onSelectedFractalChange.emit();\r\n   }\r\n}","\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\nimport FractalEditorPreviewSettings from './FractalEditorPreviewSettings.vue';\r\nimport FractalEditorToolSelection from './FractalEditorToolSelection.vue';\r\nimport FractalWindow from './FractalWindow.vue';\r\n\r\nimport { FractalEditorState } from '@/model/FractalEditorState';\r\nimport AppModel from '@/model/AppModel';\r\n\r\n@Component({\r\n   components: { FractalEditorPreviewSettings, FractalWindow, FractalEditorToolSelection },\r\n})\r\nexport default class FractalEditor extends Vue {\r\n   private state = new FractalEditorState();\r\n\r\n   beforeMount(){\r\n      this.state.selectedFractal = AppModel.fractals[0];\r\n      this.state.canEditVertices = true;\r\n   }\r\n}\r\n\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator';\r\nimport tinycolor from 'tinycolor2';\r\n\r\nenum ColorPickerDragTarget{\r\n   None,\r\n   SaturationValue,\r\n   Hue,\r\n   Opacity\r\n}\r\n\r\n@Component\r\nexport default class ColorPicker extends Vue {\r\n   public $refs!: { root: HTMLElement, satVal: HTMLElement, hue: HTMLElement, opacity: HTMLElement };\r\n\r\n   @Prop({default:\"red\"}) private color!: string;\r\n\r\n   private internalColor: tinycolor.Instance = tinycolor(this.color);\r\n   private hsv: tinycolor.ColorFormats.HSVA = this.internalColor.toHsv();\r\n\r\n   private drag: ColorPickerDragTarget = ColorPickerDragTarget.None;\r\n\r\n   private open: boolean = false;\r\n   \r\n   @Watch(\"color\")\r\n   watcher(newColor: string){\r\n      this.internalColor = tinycolor(newColor);\r\n   }\r\n\r\n   toggle(event: MouseEvent){\r\n      if(event.target !== this.$refs.root) return;\r\n      \r\n      this.open = !this.open;\r\n   }\r\n   close(){\r\n      this.open = false;\r\n   }\r\n\r\n   mouseUp(event: MouseEvent){\r\n      this.drag = ColorPickerDragTarget.None;\r\n   }\r\n   mouseMove(event: MouseEvent){\r\n      if(this.drag == ColorPickerDragTarget.SaturationValue){\r\n         this.setSaturationValueMouseEvent(event);\r\n      }\r\n      if(this.drag == ColorPickerDragTarget.Hue){\r\n         this.setHueMouseEvent(event);\r\n      }\r\n      if(this.drag == ColorPickerDragTarget.Opacity){\r\n         this.setOpacityMouseEvent(event);\r\n      }\r\n   }\r\n   mouseDown(event: MouseEvent){\r\n      if(event.target === this.$refs.satVal){\r\n         this.setSaturationValueMouseEvent(event);\r\n         this.drag = ColorPickerDragTarget.SaturationValue;\r\n         event.preventDefault();\r\n      }\r\n      if(event.target === this.$refs.hue){\r\n         this.setHueMouseEvent(event);\r\n         this.drag = ColorPickerDragTarget.Hue;\r\n         event.preventDefault();\r\n      }\r\n      if(event.target === this.$refs.opacity){\r\n         this.setOpacityMouseEvent(event);\r\n         this.drag = ColorPickerDragTarget.Opacity;\r\n         event.preventDefault();\r\n      }\r\n   }\r\n   mouseLeave(event: MouseEvent){\r\n      this.drag = ColorPickerDragTarget.None;\r\n   }\r\n\r\n   setSaturationValueMouseEvent(event: MouseEvent){\r\n      let target = this.$refs.satVal;\r\n      let rect = target.getBoundingClientRect();\r\n\r\n      let x = event.pageX - rect.left;\r\n      let y = event.pageY - rect.top;\r\n\r\n      this.hsv.s = this.clamp01(x / rect.width);\r\n      this.hsv.v = this.clamp01(1 - y / rect.height);\r\n\r\n      this.sync();\r\n   }\r\n\r\n   setHueMouseEvent(event: MouseEvent){\r\n      let target = this.$refs.hue;\r\n      let rect = target.getBoundingClientRect();\r\n\r\n      let x = event.pageX - rect.left;\r\n      let y = event.pageY - rect.top;\r\n\r\n      this.hsv.h = this.clamp01(x / rect.width) * 360;\r\n\r\n      this.sync();\r\n   }\r\n\r\n   setOpacityMouseEvent(event: MouseEvent){\r\n      let target = this.$refs.opacity;\r\n      let rect = target.getBoundingClientRect();\r\n\r\n      let x = event.pageX - rect.left;\r\n      let y = event.pageY - rect.top;\r\n\r\n      this.hsv.a = this.clamp01(x / rect.width);\r\n\r\n      this.sync();\r\n   }\r\n\r\n   sync(){\r\n      this.internalColor = tinycolor(this.hsv);\r\n      this.$emit('update:color', this.rgba);\r\n      this.$emit('change', this.rgba);\r\n   }\r\n\r\n   clamp01(value: number){\r\n      if(value < 0) return 0;\r\n      if(value > 1) return 1;\r\n      return value;\r\n   }\r\n\r\n   get hex(){\r\n      return this.internalColor.toHexString();\r\n   }\r\n   get rgba(){\r\n      return this.internalColor.toRgbString();\r\n   }\r\n   set hex(hex: string){\r\n      this.internalColor = tinycolor(hex);\r\n   }\r\n\r\n   get hue() { return this.hsv.h; }\r\n   get saturation() { return this.hsv.s; }\r\n   get value() { return this.hsv.v; }\r\n   get opacity() { return this.hsv.a; }\r\n   get alpha() { return this.opacity; }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FractalEditor.vue?vue&type=template&id=26d26400&scoped=true&\"\nimport script from \"./FractalEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./FractalEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FractalEditor.vue?vue&type=style&index=0&id=26d26400&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26d26400\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"fractal-composite\"},[_c('FractalWindow',{attrs:{\"state\":_vm.state}}),_c('FractalCompositeSettings',{attrs:{\"state\":_vm.state}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"fractal-composite-settings\"},[_c('div',{staticClass:\"heading\"},[_vm._v(\" Composite settings \")]),_c('ForegroundStylePicker',{attrs:{\"settings\":_vm.settings.color},on:{\"change\":_vm.setForeground}}),_c('div',{staticClass:\"seperator\"}),_c('BackgroundStylePicker',{attrs:{\"settings\":_vm.settings.backgroundColor},on:{\"change\":_vm.setBackground}}),_c('div',{staticClass:\"seperator\"}),_c('div',{staticClass:\"settings\"},[_vm._m(0),_c('div',{staticClass:\"setting\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"Blend Mode\")]),_c('Dropdown',{attrs:{\"selected\":_vm.settings.blendMode,\"list\":_vm.blendModes},on:{\"update:selected\":_vm.setBlendMode}})],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"icon-info\"}),_vm._v(\" Blend mode defines how the fractal is blended into the background color \")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.close),expression:\"close\"}],ref:\"root\",staticClass:\"color-picker\",style:({'--hue':_vm.hue, '--saturation':_vm.saturation, '--value':_vm.value, '--opacity':_vm.opacity, '--color':_vm.hex }),on:{\"click\":_vm.toggle}},[_c('div',{staticClass:\"popup\",class:{hidden: !_vm.open},on:{\"mousedown\":_vm.mouseDown,\"mouseup\":_vm.mouseUp,\"mousemove\":_vm.mouseMove,\"mouseleave\":_vm.mouseLeave}},[_c('div',{ref:\"satVal\",staticClass:\"color-hue\"}),_c('div',{ref:\"hue\",staticClass:\"color-line\"}),_c('div',{ref:\"opacity\",staticClass:\"opacity-line\"},[_vm._v(_vm._s(Math.round(_vm.opacity * 100))+\"%\")]),_c('div',{staticClass:\"setting\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Hex\")]),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.hex}})]),_c('div',{staticClass:\"setting button-secondary\",on:{\"click\":_vm.close}},[_vm._v(\"Apply\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorPicker.vue?vue&type=template&id=14befc6a&scoped=true&\"\nimport script from \"./ColorPicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorPicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorPicker.vue?vue&type=style&index=0&id=14befc6a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14befc6a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"background-style\"},[_c('div',{staticClass:\"settings\"},[_c('div',{staticClass:\"info label\"},[_vm._v(\" Foreground \")]),_c('div',{staticClass:\"info\"},[_vm._v(\" Set the fractals color here. \")]),_c('div',{staticClass:\"setting\"},[_c('span',[_vm._v(\"Type\")]),_c('Dropdown',{attrs:{\"selected\":_vm.selected,\"list\":_vm.types},on:{\"change\":_vm.selectType}})],1),(_vm.selected == _vm.types.Color)?_c('div',{staticClass:\"settings-group\"},[_c('div',{staticClass:\"setting\"},[_c('span',[_vm._v(\"Color\")]),_c('ColorPicker',{attrs:{\"color\":_vm.settings.color},on:{\"change\":_vm.setColor}})],1)]):_vm._e(),(_vm.selected == _vm.types.Gradient)?_c('div',{staticClass:\"settings-group\"},[_c('GradientPicker',{attrs:{\"gradient\":_vm.gradient},on:{\"change\":_vm.setGradient}})],1):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"gradient-picker\"},[_c('div',{staticClass:\"setting canvas\"},[_vm._l((_vm.self.stops),function(stop,index){return _c('div',{key:index,staticClass:\"gradient-stop\",class:{ selected: _vm.selectedStop === stop },style:({ left: stop.position * 100 + '%' })})}),_c('canvas',{ref:\"canvas\",staticClass:\"gradient\",on:{\"mouseenter\":_vm.mouseEnter,\"mouseleave\":_vm.mouseLeave,\"mousedown\":_vm.mouseDown,\"mouseup\":_vm.mouseUp,\"dblclick\":_vm.doubleClick,\"mousemove\":_vm.mouseMove}})],2),(_vm.hasSelectedStop)?_c('div',{staticClass:\"setting-group\"},[_c('div',{staticClass:\"setting\"},[_c('span',[_vm._v(\"Color\")]),_c('ColorPicker',{attrs:{\"color\":_vm.selectedStop.color},on:{\"change\":_vm.setColor}})],1),_c('div',{staticClass:\"setting\"},[_vm._v(\" \"+_vm._s(_vm.selectedStop.position)+\" \")]),_c('div',{staticClass:\"setting\"},[_c('div',{staticClass:\"button-secondary\",on:{\"click\":_vm.deleteStop}},[_vm._v(\"Delete\")])])]):_c('div',{staticClass:\"setting-group info\"},[_vm._v(\" No stop selected. \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Point from '@/model/Point';\r\nimport tinycolor from 'tinycolor2';\r\n\r\nexport class GradientStop{\r\n   private _color: tinycolor.Instance;\r\n   public position: number;\r\n\r\n   constructor(position: number, color: string){\r\n      this._color = tinycolor(color);\r\n      this.position = position;\r\n   }\r\n\r\n   get color(){\r\n      return this._color.toRgbString();\r\n   }\r\n   set color(color: string){\r\n      this._color = tinycolor(color);\r\n   }\r\n\r\n   public getColor(){\r\n      return this._color;\r\n   }\r\n}\r\n\r\nexport class Gradient{\r\n   public stops: GradientStop[];\r\n\r\n   constructor(){\r\n      this.stops = [];\r\n   }\r\n\r\n   clone(){\r\n      let g = new Gradient();\r\n\r\n      this.stops.forEach(stop => {\r\n         g.addStop(stop.position, stop.color);\r\n      });\r\n\r\n      return g;\r\n   }\r\n   \r\n   sort(){\r\n      this.stops.sort((a, b) => a.position - b.position);\r\n   }\r\n\r\n   normalize(){\r\n      if(this.stops.length <= 1) return;\r\n\r\n      this.sort();\r\n      let length = this.stops[this.stops.length - 1].position;\r\n\r\n      if(length === 0) return;\r\n\r\n      this.stops.forEach(stop => stop.position /= length);\r\n   }\r\n\r\n   evaluate(f: number): string{\r\n      if(this.stops.length === 1) return this.stops[0].color;\r\n\r\n      let index = this.findIndex(f);\r\n\r\n      let current = this.stops[index];      \r\n      if(index + 1 >= this.stops.length) return current.color;\r\n      let next = this.stops[index + 1];\r\n\r\n      if(current.position === next.position) return current.color;\r\n\r\n      let iv = (f - current.position) / (next.position - current.position);\r\n\r\n      if(iv < 0) iv = 0;\r\n      if(iv > 1) iv = 1;\r\n\r\n      return tinycolor.mix(current.color, next.color, iv).toHexString();\r\n   }\r\n\r\n   findIndex(f: number): number{\r\n      // TODO I could do binary search, but who cares :)\r\n      for(let i = this.stops.length - 1; i > 0; i--){\r\n         if(f > this.stops[i].position){\r\n            return i;\r\n         }\r\n      }\r\n\r\n      return 0;\r\n   }\r\n   addRawStop(stop: GradientStop){\r\n      this.stops.push(stop);\r\n\r\n      this.sort();\r\n\r\n      return this;\r\n   }\r\n\r\n   addStop(position: number, color: string){\r\n      this.stops.push(new GradientStop(position, color));\r\n      return this;\r\n   }\r\n   removeStop(stop: GradientStop){\r\n      let idx = this.stops.indexOf(stop);\r\n\r\n      console.log(\"found stop at index : \" + idx);\r\n      \r\n      if(idx < 0) return;\r\n\r\n      this.removeStopByIndex(idx);\r\n   }\r\n   removeStopByIndex(index: number){\r\n      console.log(\"splicing at index : \" + index);\r\n      this.stops.splice(index, 1);\r\n   }\r\n\r\n   toCanvasGradient(context: CanvasRenderingContext2D, from: Point, to: Point){\r\n      let gradient = context.createLinearGradient(\r\n         from.x,\r\n         from.y,\r\n         to.x,\r\n         to.y\r\n      );\r\n\r\n      this.stops.forEach(stop => {\r\n         gradient.addColorStop(stop.position, stop.color);\r\n      });\r\n\r\n      return gradient;\r\n   }\r\n}\r\n\r\nexport function createGradient(from: string, to: string): Gradient{\r\n   let gradient = new Gradient();\r\n\r\n   gradient.addStop(0, from);\r\n   gradient.addStop(1, to);\r\n\r\n   return gradient;\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { BackgroundSettings, BackgroundTypes } from '@/renderer/FractalRenderSettings';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport ColorPicker from '@/components/ColorPicker.vue';\r\nimport { createGradient, Gradient, GradientStop } from '@/renderer/Gradient';\r\nimport Point from '@/model/Point';\r\n\r\n@Component({\r\n   components: { ColorPicker }\r\n})\r\nexport default class GradientPicker extends Vue {\r\n   public $refs!: { canvas: HTMLCanvasElement };\r\n\r\n   @Prop() private gradient!: Gradient;\r\n\r\n   private self: Gradient = new Gradient();\r\n\r\n   private context?: CanvasRenderingContext2D;\r\n\r\n   private selectedStop: GradientStop|null = null;\r\n\r\n   private padding: boolean = false;\r\n   private dragging: boolean = false;\r\n   private previousMousePosition: Point = new Point();\r\n\r\n   beforeMount(){\r\n      this.self = this.gradient.clone();\r\n   }\r\n\r\n   mounted(){\r\n      this.context = this.canvas.getContext(\"2d\")!;\r\n      this.draw();\r\n   }\r\n\r\n   setColor(color: string){\r\n      this.selectedStop!.color = color;\r\n      this.$emit(\"change\", this.self);\r\n      this.draw();\r\n   }\r\n\r\n   draw(){\r\n      if(this.context === undefined) return;\r\n\r\n      this.canvas.width = this.canvas.offsetWidth;\r\n      this.canvas.height = this.canvas.offsetHeight;\r\n\r\n      this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n      let gradient = this.self.toCanvasGradient(\r\n         this.context, \r\n         new Point(0, 0),\r\n         new Point(this.canvas.width, 0));\r\n      \r\n      this.context.fillStyle = gradient;\r\n      this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n   }\r\n\r\n   private deleteStop(){\r\n      if(this.self.stops.length <= 1) return;\r\n\r\n      console.log(\"deleting...\");\r\n\r\n      this.self.removeStop(this.selectedStop!);\r\n      this.selectedStop = null;\r\n      \r\n      this.$emit(\"change\", this.self);\r\n      this.draw();\r\n   }\r\n\r\n   private mouseEnter(event: MouseEvent){\r\n   }\r\n   private mouseLeave(event: MouseEvent){\r\n      this.dragging = false;\r\n   }\r\n   private mouseMove(event: MouseEvent){\r\n      let newPosition = this.mouseEventToPoint(event);\r\n\r\n      let deltaX = newPosition.x - this.previousMousePosition.x;\r\n      let deltaY = newPosition.y - this.previousMousePosition.y;\r\n\r\n      if(this.dragging && this.selectedStop !== null){\r\n         this.selectedStop.position = newPosition.x;\r\n         this.self.sort();\r\n\r\n         this.$emit(\"change\", this.self);\r\n         this.draw();\r\n      }\r\n\r\n      this.previousMousePosition = newPosition;\r\n   }\r\n   private mouseUp(event: MouseEvent){\r\n      if(event.button === 0){\r\n         this.dragging = false;\r\n      }\r\n   }\r\n   private mouseDown(event: MouseEvent){\r\n      this.canvas.focus();\r\n\r\n      this.previousMousePosition = this.mouseEventToPoint(event);\r\n\r\n      if(event.button === 0){\r\n         this.dragging = this.select(this.previousMousePosition);\r\n\r\n         this.draw();\r\n      }\r\n   }\r\n   private doubleClick(event: MouseEvent){\r\n      if(event.button === 0){\r\n         let pos = this.mouseEventToPoint(event);\r\n\r\n         if(pos.x < 0) pos.x = 0;\r\n         if(pos.x > 1) pos.x = 1;\r\n         this.selectedStop = new GradientStop(pos.x, this.gradient.evaluate(pos.x));\r\n         \r\n         this.self.addRawStop(this.selectedStop);\r\n      }\r\n   }\r\n\r\n   select(point: Point){\r\n      let maxDistance = 0.1;\r\n\r\n      let selected: GradientStop|null = null;\r\n\r\n      this.self.stops.forEach(stop => {\r\n         let dist = Math.abs(stop.position - point.x);\r\n         if(dist < maxDistance){\r\n            maxDistance = dist;\r\n            selected = stop;\r\n         }\r\n      });\r\n\r\n      this.selectedStop = selected;\r\n\r\n      return true;\r\n   }\r\n\r\n   mouseEventToPoint(event: MouseEvent): Point{\r\n      return new Point(event.offsetX / this.canvas.width, 0);\r\n   }\r\n\r\n   get canvas(){\r\n      return this.$refs.canvas;\r\n   }\r\n\r\n   get hasSelectedStop(){\r\n      return this.selectedStop !== null;\r\n   }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GradientPicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GradientPicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GradientPicker.vue?vue&type=template&id=2d128892&scoped=true&\"\nimport script from \"./GradientPicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./GradientPicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GradientPicker.vue?vue&type=style&index=0&id=2d128892&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d128892\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { BackgroundSettings, BackgroundTypes, ColorSettings, ColorTypes } from '@/renderer/FractalRenderSettings';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport Dropdown from \"./Dropdown.vue\";\r\nimport GradientPicker from \"./GradientPicker.vue\";\r\nimport ColorPicker from '@/components/ColorPicker.vue';\r\nimport { createGradient, Gradient } from '@/renderer/Gradient';\r\nimport Point from '@/model/Point';\r\n\r\n@Component({\r\n   components: { Dropdown, ColorPicker, GradientPicker }\r\n})\r\nexport default class BackgroundStylePicker extends Vue {\r\n\r\n   private types = ColorTypes;\r\n\r\n   private selected = ColorTypes.Color;\r\n\r\n   private gradient = new Gradient();\r\n\r\n   @Prop() private settings!: ColorSettings;\r\n\r\n   private internalSettings!: ColorSettings;\r\n\r\n   beforeMount(){\r\n      this.internalSettings = this.settings;\r\n      this.gradient = createGradient(\"#000\", \"#fff\");\r\n\r\n      if(this.internalSettings.gradient === undefined){\r\n         this.internalSettings.gradient = this.gradient;\r\n      }\r\n      else{\r\n         this.gradient = this.internalSettings.gradient;\r\n      }\r\n      \r\n      if(this.internalSettings.gradientTo === undefined){\r\n         this.internalSettings.gradientTo = new Point(1, -1);\r\n      }\r\n\r\n      if(this.internalSettings.gradientFrom === undefined){\r\n         this.internalSettings.gradientFrom = new Point(-1, 1);\r\n      }\r\n\r\n      this.selected = this.internalSettings.type;\r\n   }\r\n\r\n   setColor(color: string){\r\n      this.internalSettings.color = color;\r\n      \r\n      this.$emit('change', this.internalSettings);\r\n   }\r\n\r\n   setGradient(gradient: Gradient){\r\n      this.gradient = gradient.clone();\r\n      this.internalSettings.gradient = this.gradient;\r\n      this.internalSettings.gradientCache = undefined; // reset the cache\r\n      this.$emit('change', this.internalSettings);\r\n   }\r\n\r\n   selectType(type: string){\r\n      this.selected = type;\r\n      this.internalSettings.type = type;\r\n      this.$emit('change', this.internalSettings);\r\n   }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForegroundStylePicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForegroundStylePicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ForegroundStylePicker.vue?vue&type=template&id=084096be&scoped=true&\"\nimport script from \"./ForegroundStylePicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./ForegroundStylePicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ForegroundStylePicker.vue?vue&type=style&index=0&id=084096be&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"084096be\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"background-style\"},[_c('div',{staticClass:\"settings\"},[_c('div',{staticClass:\"info label\"},[_vm._v(\" Background \")]),_c('div',{staticClass:\"info\"},[_vm._v(\" Set the background color, gradient or image here. \")]),_c('div',{staticClass:\"setting\"},[_c('span',[_vm._v(\"Type\")]),_c('Dropdown',{attrs:{\"selected\":_vm.selected,\"list\":_vm.types},on:{\"change\":_vm.selectType}})],1),(_vm.selected == _vm.types.Color)?_c('div',{staticClass:\"settings-group\"},[_c('div',{staticClass:\"setting\"},[_c('span',[_vm._v(\"Color\")]),_c('ColorPicker',{attrs:{\"color\":_vm.settings.color},on:{\"change\":_vm.setColor}})],1)]):_vm._e(),(_vm.selected == _vm.types.Gradient)?_c('div',{staticClass:\"settings-group\"},[_c('GradientPicker',{attrs:{\"gradient\":_vm.gradient},on:{\"change\":_vm.setGradient}})],1):_vm._e(),(_vm.selected == _vm.types.Image)?_c('div',{staticClass:\"settings-group\"},[_c('div',{staticClass:\"setting\"},[_c('span',[_vm._v(\"Color\")]),_c('ColorPicker',{attrs:{\"color\":_vm.settings.color},on:{\"change\":_vm.setColor}})],1),_c('div',{staticClass:\"setting\"},[_c('input',{ref:\"fileUpload\",staticClass:\"hidden\",attrs:{\"accept\":\"image/*\",\"type\":\"file\"},on:{\"change\":_vm.fileAdded}}),_c('span',{staticClass:\"thumbnail-container\"},[_c('img',{staticClass:\"thumbnail\",attrs:{\"src\":_vm.imageSrc,\"alt\":\"\"}}),_c('span',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(_vm.imgName)+\" \")])]),_c('span',{staticClass:\"button-secondary upload-button\",on:{\"click\":_vm.upload}},[_c('span',{staticClass:\"icon-upload\"})])])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { BackgroundSettings, BackgroundTypes } from '@/renderer/FractalRenderSettings';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport Dropdown from \"./Dropdown.vue\";\r\nimport GradientPicker from \"./GradientPicker.vue\";\r\nimport ColorPicker from '@/components/ColorPicker.vue';\r\nimport { createGradient, Gradient } from '@/renderer/Gradient';\r\nimport Point from '@/model/Point';\r\n\r\n@Component({\r\n   components: { Dropdown, ColorPicker, GradientPicker }\r\n})\r\nexport default class BackgroundStylePicker extends Vue {\r\n   public $refs!: { fileUpload: HTMLInputElement };\r\n\r\n   private types = BackgroundTypes;\r\n\r\n   private selected = BackgroundTypes.Color;\r\n\r\n   private gradient = new Gradient();\r\n\r\n   private imgName = \"\";\r\n   private imageSrc = \"\";\r\n\r\n   @Prop() private settings!: BackgroundSettings;\r\n\r\n   private internalSettings!: BackgroundSettings;\r\n\r\n   beforeMount(){\r\n      this.internalSettings = this.settings;\r\n      this.gradient = createGradient(\"#000\", \"#fff\");\r\n\r\n      if(this.internalSettings.gradient === undefined){\r\n         this.internalSettings.gradient = this.gradient;\r\n      }\r\n      else{\r\n         this.gradient = this.internalSettings.gradient;\r\n      }\r\n      \r\n      if(this.internalSettings.gradientTo === undefined){\r\n         this.internalSettings.gradientTo = new Point(1, -1);\r\n      }\r\n\r\n      if(this.internalSettings.gradientFrom === undefined){\r\n         this.internalSettings.gradientFrom = new Point(-1, 1);\r\n      }\r\n\r\n      if(this.internalSettings.image !== undefined){\r\n         this.imageSrc = this.internalSettings.image.src;\r\n      }\r\n\r\n      this.selected = this.internalSettings.type;\r\n   }\r\n\r\n   upload(){\r\n      this.$refs.fileUpload.click();\r\n   }\r\n\r\n   fileAdded(){\r\n      if(this.$refs.fileUpload.files === null) return;\r\n      if(this.$refs.fileUpload.files === undefined) return;\r\n      if(this.$refs.fileUpload.files.length <= 0) return;\r\n\r\n      let file = this.$refs.fileUpload.files[0];\r\n      \r\n      this.imgName = file.name;\r\n      \r\n      var reader = new FileReader();\r\n      reader.onload = (event: ProgressEvent<FileReader>) => {\r\n         let img = new Image();\r\n\r\n         this.imageSrc = <string>event.target?.result;\r\n\r\n         img.onload = ()=>{\r\n            this.$emit('change', this.internalSettings);\r\n         };\r\n\r\n         img.src = this.imageSrc;\r\n\r\n         this.internalSettings.image = img;\r\n      }\r\n      reader.readAsDataURL(file);\r\n   }\r\n\r\n   setColor(color: string){\r\n      this.internalSettings.color = color;\r\n      \r\n      this.$emit('change', this.internalSettings);\r\n   }\r\n\r\n   setGradient(gradient: Gradient){\r\n      this.gradient = gradient.clone();\r\n      this.internalSettings.gradient = this.gradient;\r\n      this.$emit('change', this.internalSettings);\r\n   }\r\n\r\n   selectType(type: string){\r\n      this.selected = type;\r\n      this.internalSettings.type = type;\r\n      this.$emit('change', this.internalSettings);\r\n   }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundStylePicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundStylePicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BackgroundStylePicker.vue?vue&type=template&id=c7a9473a&scoped=true&\"\nimport script from \"./BackgroundStylePicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./BackgroundStylePicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BackgroundStylePicker.vue?vue&type=style&index=0&id=c7a9473a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c7a9473a\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport ColorPicker from '@/components/ColorPicker.vue';\r\nimport Dropdown from '@/components/Dropdown.vue';\r\nimport { BackgroundSettings, BlendModes, ColorSettings, FractalRenderSettings } from '@/renderer/FractalRenderSettings';\r\nimport AppModel from '@/model/AppModel';\r\nimport ForegroundStylePicker from \"@/components/ForegroundStylePicker.vue\";\r\nimport BackgroundStylePicker from \"@/components/BackgroundStylePicker.vue\";\r\nimport { FractalEditorState } from '@/model/FractalEditorState';\r\nimport { SignalBundle } from '@/util/Signal';\r\n\r\n@Component({components: { ColorPicker, Dropdown, BackgroundStylePicker, ForegroundStylePicker }})\r\nexport default class FractalCompositeSettings extends Vue {\r\n   @Prop() private state!: FractalEditorState;\r\n\r\n   private blendModes = BlendModes;\r\n\r\n   private settings?: FractalRenderSettings;\r\n   private bundle: SignalBundle = new SignalBundle();\r\n\r\n   beforeMount(){\r\n      this.settings = AppModel.composite.settings;\r\n   }\r\n\r\n   mount(){\r\n      this.bundle.listenTo(this.state.onSelectedShapeChange, this.$forceUpdate.bind(this));\r\n   }\r\n   unmount(){\r\n      this.bundle.removeAll();\r\n   }\r\n   \r\n   setBackground(background: BackgroundSettings){\r\n      this.settings!.backgroundColor = background;\r\n\r\n      this.state.onFractalChange.emit();\r\n      \r\n   }\r\n   setForeground(foreground: ColorSettings){\r\n      this.settings!.color = foreground;\r\n\r\n      this.state.onFractalChange.emit();\r\n      \r\n   }\r\n   setBlendMode(mode: string){\r\n      this.settings!.blendMode = mode;\r\n\r\n      this.state.onFractalChange.emit();\r\n   }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalCompositeSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalCompositeSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FractalCompositeSettings.vue?vue&type=template&id=aa10246a&scoped=true&\"\nimport script from \"./FractalCompositeSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./FractalCompositeSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FractalCompositeSettings.vue?vue&type=style&index=0&id=aa10246a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aa10246a\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\r\nimport { FractalEditorState } from '@/model/FractalEditorState';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport FractalWindow from './FractalWindow.vue';\r\nimport FractalCompositeSettings from '@/views/FractalCompositeSettings.vue';\r\nimport AppModel from '@/model/AppModel';\r\nimport ColorPicker from '@/components/ColorPicker.vue';\r\n\r\n\r\n\r\n@Component({components: { FractalWindow, FractalCompositeSettings }})\r\nexport default class FractalComposite extends Vue {\r\n   private state = new FractalEditorState();\r\n\r\n   beforeMount(){\r\n      this.state.selectedFractal = AppModel.fractals[0];\r\n      this.state.showVertices = false;\r\n      this.state.showGrid = true;\r\n      this.state.showCanvas = true;\r\n      this.state.selectedComposite = AppModel.composite;\r\n      this.state.iterations = 10; // TODO auto decide the amount of iterations\r\n   }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalComposite.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalComposite.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FractalComposite.vue?vue&type=template&id=b5e83c88&scoped=true&\"\nimport script from \"./FractalComposite.vue?vue&type=script&lang=ts&\"\nexport * from \"./FractalComposite.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FractalComposite.vue?vue&type=style&index=0&id=b5e83c88&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5e83c88\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"fractal-render\"},[_c('canvas',{ref:\"canvas\",attrs:{\"width\":\"0\",\"height\":\"0\"}}),_c('div',{staticClass:\"background\",style:({ background: _vm.backgroundColor })}),_c('div',{staticClass:\"ui-container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.renderTab),expression:\"!renderTab\"}],staticClass:\"ui\"},[_c('div',{staticClass:\"heading\"},[_vm._v(\" Output Settings \")]),_c('div',{staticClass:\"settings\"},[_c('div',{staticClass:\"setting\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"Width\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.width),expression:\"width\"}],class:{ invalid: !_vm.widthValid },attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.width)},on:{\"keyup\":_vm.onChange,\"input\":function($event){if($event.target.composing){ return; }_vm.width=$event.target.value}}})]),_c('div',{staticClass:\"setting\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"Height\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.height),expression:\"height\"}],class:{ invalid: !_vm.heightValid },attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.height)},on:{\"keyup\":_vm.onChange,\"input\":function($event){if($event.target.composing){ return; }_vm.height=$event.target.value}}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.widthValid || !_vm.heightValid),expression:\"!widthValid || !heightValid\"}],staticClass:\"info error\"},[_c('span',{staticClass:\"icon-error\"}),_vm._v(\" Please enter a valid width and height \")]),_c('div',{staticClass:\"seperator\"}),_c('div',{staticClass:\"setting\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"Iterations\")]),_c('NumberSelector',{attrs:{\"value\":_vm.output.iterations},on:{\"update:value\":function($event){return _vm.$set(_vm.output, \"iterations\", $event)}}})],1),_vm._m(0)]),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"empty\"}),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"info\"},[_vm._v(\" \"+_vm._s(_vm.fileSizeEstimate)+\"  \"+_vm._s(_vm.durationEstimate)+\" \")]),_c('div',{staticClass:\"button-primary\",class:{ disabled: !_vm.valid },on:{\"click\":_vm.startRender}},[_vm._v(\" Render \")])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.renderTab),expression:\"renderTab\"}],staticClass:\"ui\"},[_c('div',{staticClass:\"heading\"},[_vm._v(\" Rendering... \")]),_c('div',{staticClass:\"loader\"},[_c('svg',{attrs:{\"width\":\"240px\",\"height\":\"240px\",\"viewBox\":\"-1 -1 2 2\"}},[_c('circle',{staticClass:\"progress-background\",attrs:{\"stroke-width\":\"0.08\",\"fill\":\"transparent\",\"r\":\"0.9\",\"cx\":\"0\",\"cy\":\"0\"}}),_c('circle',{staticClass:\"progress-done\",style:({'--progress': _vm.progress}),attrs:{\"transform\":\"rotate(-90)\",\"stroke\":\"red\",\"stroke-width\":\"0.08\",\"fill\":\"transparent\",\"r\":\"0.9\",\"cx\":\"0\",\"cy\":\"0\"}})]),_c('div',{staticClass:\"percentage\"},[_vm._v(_vm._s(Math.round(_vm.progress))+\"%\")])]),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"button-secondary\",on:{\"click\":_vm.cancelRender}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.rendering),expression:\"rendering\"}]},[_vm._v(\"Cancel\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.rendering),expression:\"!rendering\"}]},[_vm._v(\"Back\")])]),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"info\"},[_c('span',[_vm._v(\"Auto download\")]),_c('Checkbox',{attrs:{\"checked\":_vm.autoDownload},on:{\"update:checked\":function($event){_vm.autoDownload=$event}}})],1),_c('div',{staticClass:\"button-primary\",class:{disabled: _vm.rendering},on:{\"click\":_vm.download}},[_c('span',{staticClass:\"icon-download\"}),_vm._v(\" Download \")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"icon-info\"}),_vm._v(\" Increasing the number of iterations results in a higher quality render, but also results in greater rendering times. \")])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\nimport NumberSelector from '@/components/NumberSelector.vue';\r\nimport { OutputSettings } from '@/model/OutputSettings';\r\nimport AppModel from '@/model/AppModel';\r\nimport { estimateSteps, FractalRenderer } from '@/renderer/FractalRenderer';\r\nimport App from '@/App.vue';\r\nimport Checkbox from '@/components/Checkbox.vue';\r\n\r\n// Estimations\r\nconst KBPerPixel = 2200 / (1920*1080);\r\nconst StepsPerSecond = 60 * 1000;\r\n\r\n@Component({\r\n   components: { NumberSelector, Checkbox },\r\n})\r\nexport default class FractalRender extends Vue {\r\n   private output = new OutputSettings();\r\n\r\n   public $refs!: { canvas: HTMLCanvasElement };\r\n\r\n   private width: string = \"\";\r\n   private height: string = \"\";\r\n\r\n   private widthValid: boolean = true;\r\n   private heightValid: boolean = true;\r\n\r\n   private renderTab: boolean = false;\r\n\r\n   private rendering: boolean = false;\r\n   private autoDownload: boolean = false;\r\n\r\n   private renderer?: FractalRenderer;\r\n\r\n   private progress: number = 0;\r\n\r\n   beforeMount(){\r\n      // Yes we copy this over from the app model :)\r\n      this.output = AppModel.outputSettings;\r\n\r\n      // This is fine :)\r\n      this.width = \"\" + this.output.width;\r\n      this.height = \"\" + this.output.height;\r\n   }\r\n\r\n   onChange(){\r\n      let regex = new RegExp(/^[0-9]*$/, \"s\");\r\n\r\n      this.widthValid = regex.test(this.width);\r\n      this.heightValid = regex.test(this.height);\r\n\r\n      if(this.widthValid) this.output.width = parseFloat(this.width);\r\n      if(this.heightValid) this.output.height = parseFloat(this.height);\r\n   }\r\n\r\n   startRender(){\r\n      this.rendering = true;\r\n      this.renderTab = true;\r\n\r\n      const composite = AppModel.composite;\r\n\r\n      this.canvas.width = this.output.width;\r\n      this.canvas.height = this.output.height;\r\n      // this.canvas = new OffscreenCanvas(this.output.width, this.output.height);\r\n      let context = this.canvas.getContext(\"2d\")!;\r\n      \r\n      this.renderer = new FractalRenderer(context!);\r\n      this.renderer.settings = composite.settings;\r\n\r\n      this.renderer.onRenderStep = this.onProgress.bind(this);\r\n      this.renderer.onRenderDone = this.onDone.bind(this);\r\n\r\n      context.resetTransform();\r\n\r\n      // Set the scale for the fractal stuff:\r\n      composite.window.applyToContext(this.canvas, context);\r\n\r\n      this.renderer.drawBackground(composite.window.getBounds(\r\n         this.output.width / this.output.height\r\n      ));\r\n\r\n      this.renderer.reset();\r\n      \r\n      this.renderer.settings.lineWidth.width = composite.window.getPixelSize(this.canvas.width, this.canvas.height);\r\n\r\n      this.renderer.renderFractal(composite.fractal!, -1, 0, 1, 0, this.output.iterations);\r\n   }\r\n\r\n   cancelRender(){\r\n      this.renderTab = false;\r\n      this.rendering = false;\r\n\r\n      this.renderer?.reset();\r\n   }\r\n\r\n   onProgress(n : number){\r\n      this.progress = n;\r\n   }\r\n\r\n   async onDone(){\r\n      if(this.canvas === undefined) return;\r\n\r\n      this.rendering = false;\r\n\r\n      if(this.autoDownload){\r\n         await this.download();\r\n      }\r\n   }\r\n\r\n   async download(){\r\n      if(this.canvas === undefined) return;\r\n      if(this.rendering) return;\r\n\r\n      this.canvas.toBlob((blob)=>{\r\n         let link = document.createElement(\"a\");\r\n         link.href = URL.createObjectURL(blob);\r\n         link.download = \"\";\r\n         link.click();\r\n      });\r\n\r\n   }\r\n\r\n   get canvas(){\r\n      return this.$refs.canvas;\r\n   }\r\n\r\n   get valid(){\r\n      return this.widthValid && this.heightValid;\r\n   }\r\n\r\n   get durationEstimate(): string{\r\n      let steps = estimateSteps(AppModel.composite.fractal!, this.output.iterations);\r\n      let duration = steps / StepsPerSecond;\r\n\r\n      const minuteInSeconds = 1 * 60; \r\n      const hourInSeconds = minuteInSeconds * 60;\r\n\r\n      let hours = Math.floor(duration / hourInSeconds);\r\n      duration -= hourInSeconds * hours;   \r\n      \r\n      let minutes = Math.floor(duration / minuteInSeconds);\r\n      duration -= minutes * minuteInSeconds;\r\n\r\n      let seconds = Math.floor(duration);\r\n\r\n      let hoursString = \"\" + hours;\r\n      let minutesString = \"\" + minutes;\r\n      let secondsString = \"\" + seconds;\r\n\r\n      if(hoursString.length < 2) hoursString = \"0\" + hoursString;\r\n      if(minutesString.length < 2) minutesString = \"0\" + minutesString;\r\n      if(secondsString.length < 2) secondsString = \"0\" + secondsString;\r\n\r\n      return hoursString + \":\" + minutesString + \":\" + secondsString;\r\n   }\r\n\r\n   get fileSizeEstimate(): string{\r\n      let kb = this.output.width * this.output.height * KBPerPixel;\r\n      \r\n      if(kb > 1000000){\r\n         return Math.round(kb / 100000) / 10 + \"GB\";\r\n      }\r\n      else if(kb > 1000){\r\n         return Math.round(kb / 100) / 10 + \"MB\";\r\n      }\r\n      else{\r\n         return Math.round(kb * 10) / 10 + \"KB\";\r\n      }\r\n   }\r\n\r\n   get backgroundColor() {\r\n      if(!!AppModel.composite.settings.backgroundColor){\r\n         return AppModel.composite.settings.backgroundColor;\r\n      }\r\n      else{\r\n         return \"#fff\";\r\n      }\r\n   }\r\n}\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalRender.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FractalRender.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FractalRender.vue?vue&type=template&id=5f925136&scoped=true&\"\nimport script from \"./FractalRender.vue?vue&type=script&lang=ts&\"\nexport * from \"./FractalRender.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FractalRender.vue?vue&type=style&index=0&id=5f925136&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f925136\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\r\nimport FractalEditor from \"./FractalEditor.vue\";\r\nimport FractalComposite from \"./FractalComposite.vue\";\r\nimport FractalRender from \"./FractalRender.vue\";\r\n\r\n@Component({\r\n  components: { FractalEditor, FractalComposite, FractalRender },\r\n})\r\nexport default class Editor extends Vue {\r\n  private selectedTab: number = 0;\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=f985cb2a&scoped=true&\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts&\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&id=f985cb2a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f985cb2a\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport Editor from './views/Editor.vue';\r\n\r\n@Component({\r\n  components: {\r\n    Editor,\r\n  },\r\n})\r\nexport default class App extends Vue {\r\n}\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=344d8dea&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.directive(\"click-outside\", {\r\n  bind: function(el: any, binding: any, vnode: any) {\r\n    el.clickOutsideEvent = function(event: any) {\r\n      // here I check that click was outside the el and his children\r\n      if (!(el == event.target || el.contains(event.target))) {\r\n        // and if it did, call method provided in attribute value\r\n        vnode.context[binding.expression](event);\r\n      }\r\n    };\r\n    document.body.addEventListener(\"click\", el.clickOutsideEvent);\r\n  },\r\n  unbind: function(el: any) {\r\n    document.body.removeEventListener(\"click\", el.clickOutsideEvent);\r\n  },\r\n});\r\n\r\nnew Vue({\r\n  render: (h) => h(App),\r\n}).$mount(\"#app\");","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=style&index=0&id=14befc6a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorPicker.vue?vue&type=style&index=0&id=14befc6a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=style&index=0&id=55c2cf4c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dropdown.vue?vue&type=style&index=0&id=55c2cf4c&scoped=true&lang=scss&\""],"sourceRoot":""}